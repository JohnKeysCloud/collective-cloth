(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var a=n.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=a[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"a03f02b512a3b5f04437.webp",n=JSON.parse('[{"textContent":"home","href":"#call-to-action"},{"textContent":"who are we?","href":"#who-are-we"},{"textContent":"how does it work?","href":"#how-does-it-work"},{"textContent":"start the process","href":"#start-the-process"}]');function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,r,i,o){if("string"!=typeof t||"string"!=typeof e||"string"!=typeof r||"string"!=typeof n&&!Array.isArray(n)||"string"!=typeof i)throw new Error("Invalid input type. Please provide valid input types.");var c=document.createElement("img");if(c.setAttribute("id",t),c.src=e,c.alt=r,n&&("string"==typeof n?c.classList.add(n):Array.isArray(n)&&n.forEach((function(e){return c.classList.add(e)}))),c.setAttribute("aria-label",i),!o)throw new Error("Please add a size array for the image.");var s,l,d=(l=2,function(e){if(Array.isArray(e))return e}(s=o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,c=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=i.call(n)).done)&&(c.push(a.value),c.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw r}}return c}}(s,l)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=d[0],m=d[1];return c.setAttribute("height",u),c.setAttribute("width",m),c}function i(e,t){for(var n in t)e.setAttribute(n,t[n])}function o(e){var t=document.querySelector(e);if(t)return t;console.error("Element not found for selector: ".concat(e))}var c={animating:!1};function s(e){var t=o("nav");e?e&&(t.classList.remove("expanded"),c.animating=!1):(t.classList.add("expanded"),c.animating=!0)}function l(){var e=o(".nav-toggle-button"),t=e.classList.contains("active");if(t)e.classList.remove("active"),e.setAttribute("aria-label","Open Navigation Menu"),e.setAttribute("aria-expanded",!1),s(t);else{if(!0===c.animating)return;e.classList.add("active"),e.setAttribute("aria-label","Close Navigation Menu"),e.setAttribute("aria-expanded",!0),s(t)}e.addEventListener("click",l)}const d=JSON.parse('[{"name":"Time Capsule NY","link":"http://www.timecapsuleny.io","logo":"https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/logos_grayscale45/tcny.svg"},{"name":"American PoolPlayers Association","link":"https://poolplayers.com/","logo":"https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/logos_grayscale45/apa.svg"}]'),u=JSON.parse('[{"src":"https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/carousel_images/carousel-image-1.webp","alt":"Carousel image 1"},{"src":"https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/carousel_images/carousel-image-2.webp","alt":"Carousel image 2"},{"src":"https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/carousel_images/carousel-image-3.webp","alt":"Carousel image 3"},{"src":"https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/carousel_images/carousel-image-4.webp","alt":"Carousel image 4"}]');function m(e){var t=document.createElement("figure");t.classList.add("carousel");var n=function(e){var t=document.createElement("button");t.classList.add("arrow","right-arrow","carousel-arrow"),i(t,{type:"button","aria-label":"Next"});var n=function(e){if(!e||!e.length)throw new Error("No images provided for carousel.");var t=document.createElement("div");return t.classList.add("carousel-slide-container"),e.forEach((function(n,a){var r=document.createElement("figcaption");r.classList.add("carousel-image-caption"),r.textContent=n.alt;var o=document.createElement("img");o.classList.add("carousel-image","non-interactive"),i(o,{src:n.src,alt:n.alt});var c=document.createElement("span");c.classList.add("carousel-image-index"),c.textContent="".concat(a+1,"/").concat(e.length);var s=document.createElement("figure");s.classList.add("carousel-image-container"),s.append(c,o,r);var l=document.createElement("div");l.classList.add("carousel-slide"),0===a&&l.classList.add("active"),l.setAttribute("data-index",a+1),l.append(s),t.append(l)})),t}(e),a=document.createElement("button");a.classList.add("arrow","left-arrow","carousel-arrow"),i(a,{type:"button","aria-label":"Previous"});var r=document.createElement("div");return r.classList.add("carousel-container"),r.append(a,n,t),r}(e),a=function(e){if(!e.length)throw new Error("No images provided for carousel.");var t=document.createElement("div");t.classList.add("carousel-navigation-button-container"),e.forEach((function(e,n){var a=document.createElement("button");a.classList.add("carousel-navigation-button"),0===n&&a.classList.add("active"),i(a,{type:"button","aria-label":"Go to slide ".concat(n+1),"data-index":n+1}),t.append(a)}));var n=document.createElement("div");return n.classList.add("carousel-navigation-container"),n.appendChild(t),n}(e);return t.append(n,a),t}var p=1,v=!1;function f(e){h(p+=e)}function h(e){var t,n,a=document.querySelectorAll(".carousel-slide");document.querySelectorAll(".carousel-navigation-button"),function(e,t){t>e?p=1:t<1&&(p=e)}(a.length,e),(t=document.querySelector(".carousel-slide.active")).classList.add("deactivating"),v=!0,(n=t).setDeactivatedSlideToDisplayNoneRef=function(){!function(e){e.classList.remove("deactivating","active"),v=!1,e.removeEventListener("animationend",e.setDeactivatedSlideToDisplayNoneRef)}(n)},n.addEventListener("animationend",n.setDeactivatedSlideToDisplayNoneRef),document.querySelector(".carousel-navigation-button.active").classList.remove("active"),function(){var e=document.querySelectorAll(".carousel-slide"),t=document.querySelectorAll(".carousel-navigation-button");e[p-1].classList.add("active"),t[p-1].classList.add("active")}()}function g(e,t){"left"===t?(e.style.setProperty("--fade-in","var(--left-fade-in-animation)"),e.style.setProperty("--fade-out","var(--left-fade-out-animation)")):"right"===t&&(e.style.setProperty("--fade-in","var(--right-fade-in-animation)"),e.style.setProperty("--fade-out","var(--right-fade-out-animation)"))}const b=JSON.parse('[{"title":"Start the Process","textContent":["Share details about your collective and design preferences below.","Our team will promptly contact you to discuss your tailored needs."]},{"title":"Design Collaboration","textContent":["Work closely with our designers to create your product.","Upon final approval, you\'ll receive a personalized quote."]},{"title":"Production & Delivery","textContent":["We produce and emblazon your garments with the chosen designs.","Finally, your order is meticulously prepared and shipped directly to you."]}]');const E=JSON.parse('[{"fieldSet":1,"id":"name","label":"Enter your name:","pattern":"^[a-zA-Z]+(([\',. -][a-zA-Z ])?[a-zA-Z]*)*$","placeholder":"John Doe","required":true,"type":"text"},{"fieldSet":1,"id":"email","label":"Enter your email address:","pattern":"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$","placeholder":"example@email.com","required":true,"type":"email"},{"fieldSet":1,"id":"phone","label":"Enter your phone number:","pattern":"^\\\\+?[0-9]{1,3}?[-. ]?([0-9]{2,4}?[-. ]?){1,3}[0-9]{4,6}$","placeholder":"212-555-1234","required":false,"type":"tel"},{"fieldSet":2,"id":"collective_type","label":"What type of collective do you represent?","options":["Sports/E-Sports Team","Corporate Entity","Non-Profit Organization","Educational Institution","Special Event Group","Other"],"required":true,"type":"select"},{"fieldSet":2,"id":"garment_type","label":"Specify garment type:","options":["Crewneck T-Shirt","Tank-Top","Crewneck Sweater","Hoodie","Polo Shirt","Windbreaker Jacket","Baseball Cap","Beanie","Other"],"required":true,"type":"select"},{"fieldSet":2,"id":"color","label":"In what color?","options":["Black","White","Grey","Red","Green","Blue","Yellow","Orange","Purple","Pink","Other"],"required":true,"type":"select"},{"fieldSet":2,"id":"quantity","label":"How many?","placeholder":"e.g., 50","required":true,"type":"number"},{"fieldSet":3,"id":"vision","label":"Tell us your vision:","placeholder":"Include details like logo design, placement, unique elements, etc.","required":true,"type":"textarea"}]'),y=JSON.parse('{"name":"collective cloth","logo":"https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/logos/cycloneStudios.svg","link":"https://www.cyclonestud.io/"}');var L,A=document.getElementById("content");A.appendChild(function(){var e=document.createElement("header"),a=document.createElement("div");a.setAttribute("class","content-container");var o=r(t,"header-logo","company-logo","Cyclone Studios Logo","Cyclone Studios Logo",["123px","123px"]),c=document.createElement("a");c.setAttribute("id","header-logo-link"),c.setAttribute("href","/"),c.append(o);var s=document.createElement("h4");s.setAttribute("id","header-logo-text"),s.classList.add("company-name"),s.setAttribute("aria-label","Collective Cloth"),s.textContent="collective cloth";var l=document.createElement("div");l.setAttribute("id","header-logo-container"),l.append(c,s);var d,u=function(e){var t=document.createElement("div");t.classList.add("nav-toggle-bars");var n=document.createElement("button");return n.classList.add("nav-toggle-button"),i(n,{"aria-label":"Open Navigation Menu","aria-expanded":!1,"aria-controls":"nav"}),n.appendChild(t),n}(),m=function(e){var t=document.createElement("nav"),n=document.createElement("ul");return n.classList.add("nav-ul"),e.forEach((function(e){var t=document.createElement("li");t.classList.add("nav-item");var a=document.createElement("a");a.classList.add("nav-link"),a.textContent=e.textContent,a.href=e.href,t.appendChild(a),n.appendChild(t)})),t.appendChild(n),t}(n);return m.prepend(((d=document.createElement("h2")).setAttribute("id","nav-heading"),d.textContent="Main Menu",d)),a.append(l,u,m),e.append(a),e}()),document.querySelector(".nav-toggle-button").addEventListener("click",l),A.appendChild(function(){var e=document.createElement("section");e.setAttribute("id","call-to-action");var t=document.createElement("div");return t.classList.add("content-container"),t.append(function(){var e=document.createElement("div");e.setAttribute("id","call-to-action-left");var t=document.createElement("span");t.classList.add("clipped-text"),t.textContent="show solidarity in style ";var n=document.createElement("span");n.classList.add("emoji","heading-emoji"),n.textContent="ðŸ˜Ž";var a=document.createElement("h1");a.setAttribute("id","call-to-action-heading"),a.append(t,n);var r=document.createTextNode("implementing "),i=document.createElement("span");i.textContent="AI",i.classList.add("call-to-action-ai");var o=document.createTextNode(" in creative design."),c=document.createElement("h3");c.setAttribute("id","call-to-action-subheading"),c.append(r,i,o);var s=document.createElement("p");s.classList.add("article-text-content"),s.textContent="Our team, a blend of designers, apparel manufacturers, and business experts, specializes in generating bespoke apparel that reflects the distinct identity of each collective we work with.";var l=document.createElement("p");l.classList.add("article-text-content"),l.textContent="We offer a comprehensive service that seamlessly integrates design, production, and delivery, ensuring a tailored experience from start to finish.";var d=document.createElement("article");return d.classList.add("call-to-action-text-content"),d.append(a,c,s,l),e.append(d),e}(),function(){var e=document.createElement("div");e.setAttribute("id","call-to-action-right");var t=r("https://collective-cloth.s3.us-east-2.amazonaws.com/static-assets/product_images/animated/team-capsule-large-animated.webp","call-to-action-product-image","","3-Dimensional Product Showcase","3-Dimensional Product Showcase",["800","800"]);return e.append(t),e}()),e.append(t),e}()),A.appendChild(function(e){var t=document.createElement("section");t.setAttribute("id","connections");var n=document.createElement("div");n.classList.add("content-container");var a=document.createElement("div");return a.classList.add("logo-container"),e.forEach((function(e){var t=document.createElement("img");t.classList.add("connection-logo"),t.src=e.logo,t.alt=e.name;var n=document.createElement("a");n.classList.add("connections-link"),n.href=e.link,n.target="_blank",n.rel="noopener noreferrer",n.append(t),a.append(n)})),n.append(a),t.append(n),t}(d)),A.appendChild(function(e){var t=document.createElement("section");t.setAttribute("id","who-are-we");var n=document.createElement("div");n.classList.add("content-container");var a=m(e),r=document.createElement("h3");r.setAttribute("id","who-are-we-heading"),r.textContent="Who Are We?";var i=document.createElement("p");i.classList.add("article-text-content"),i.textContent="Conceived to craft custom couture for your collective, our company champions the creation of cohesive, captivating clothing that celebrates your unique camaraderie and character.";var o=document.createElement("p");o.classList.add("article-text-content"),o.textContent="From competitive teams to corporate circles, we commit to customizing chic, comfortable compositions. Utilizing choice materials and cutting-edge design techniques, we convert your vision into a wearable canvas, capturing the essence of your unity.",document.createElement("p").classList.add("article-text-content");var c=document.createElement("article");return c.setAttribute("id","who-are-we-text-content"),c.append(r,i,o),n.append(a,c),t.append(n),t}(u)),function(e){var t=document.querySelector(".carousel-arrow.left-arrow"),n=document.querySelector(".carousel-arrow.right-arrow");t&&t.addEventListener("click",(function(){if(!v){var t=p;f(-1),g(e,"left"),t<=p&&g(e,"right")}})),n&&n.addEventListener("click",(function(){if(!v){var t=p;f(1),g(e,"right"),t>=p&&g(e,"left")}}))}(L=document.documentElement),function(e){document.querySelectorAll(".carousel-navigation-button").forEach((function(t,n){t.addEventListener("click",(function(){if(!t.classList.contains("active")&&!v){var a=p;!function(e){h(p=e)}(n+1),a<p?g(e,"right"):a>p&&g(e,"left")}}))}))}(L),A.appendChild(function(e){var t=document.createElement("section");t.setAttribute("id","how-does-it-work");var n=document.createElement("div");n.classList.add("content-container");var a=document.createElement("article");a.classList.add("how-does-it-work-text-content");var r=document.createElement("h3");r.setAttribute("id","how-does-it-work-heading"),r.textContent="How Does It Work?",n.append(r);var i=document.createElement("div");return i.setAttribute("id","instructions-container"),e.forEach((function(e,t){var n=document.createElement("article");n.classList.add("instruction-article");var a=document.createElement("div");a.classList.add("step-number"),a.textContent="0".concat(t+1," ");var r=document.createElement("h4");r.classList.add("instruction-number"),r.textContent=e.title;var o=document.createElement("div");o.classList.add("instruction-title-container"),o.append(a,r);var c=document.createElement("div");c.classList.add("instruction-text-content"),e.textContent.forEach((function(e){var t=document.createElement("p");t.classList.add("article-text-content"),t.textContent=e,c.appendChild(t)})),n.append(o,c),i.appendChild(n)})),a.appendChild(i),n.appendChild(a),t.append(n),t}(b)),A.appendChild(function(e){var t=document.createElement("section");t.setAttribute("id","start-the-process");var n=document.createElement("div");n.classList.add("content-container");var a=document.createElement("button");a.setAttribute("id","start-the-process-button"),a.textContent="start the process";var r=function(e){var t=document.createElement("h2");t.setAttribute("id","dialog-heading"),t.textContent="The Process";var n=document.createElement("h3");n.setAttribute("id","step-number"),n.textContent="Step 1";var a=document.createElement("button");a.setAttribute("id","dialog-close-button"),a.setAttribute("type","button"),a.setAttribute("aria-label","Close Dialog"),a.textContent="âœ•";var r=document.createElement("div");r.setAttribute("id","dialog-top-container"),r.append(n,a);var i=document.createElement("button");i.setAttribute("id","previous-button"),i.setAttribute("disabled","true"),i.type="button",i.dataset.element="button",i.textContent="previous";var o=document.createElement("button");o.setAttribute("id","next-button"),o.type="button",o.dataset.element="button",o.textContent="next";var c=document.createElement("button");c.setAttribute("id","submit-button"),c.setAttribute("form","#start-the-process-form"),c.setAttribute("disabled","true"),c.dataset.element="button",c.textContent="submit";var s=document.createElement("div");s.setAttribute("id","dialog-button-container"),s.append(i,o,c);var l=function(e){var t=document.createElement("form");t.setAttribute("id","start-the-process-form");var n=document.createElement("div");n.setAttribute("id","form-field-main-container");var a=document.createElement("fieldset");a.setAttribute("id","field-set-one"),a.classList.add("field-set","active"),a.dataset.fieldSet=1;var r=document.createElement("fieldset");r.setAttribute("id","field-set-two"),r.classList.add("field-set"),r.dataset.fieldSet=2;var i=document.createElement("fieldset");i.setAttribute("id","field-set-three"),i.classList.add("field-set"),i.dataset.fieldSet=3,e.forEach((function(e,t){var n,o=document.createElement("label");if(o.setAttribute("for",e.id),o.textContent=e.label,"select"===e.type){(n=document.createElement("select")).setAttribute("id",e.id);var c=document.createElement("option");c.setAttribute("value",""),c.setAttribute("disabled","true"),c.setAttribute("selected","true"),c.textContent="make a selection",n.appendChild(c),e.options.forEach((function(e){var t=document.createElement("option");t.setAttribute("value",e),t.textContent=e,n.appendChild(t)}))}else"textarea"===e.type?(n=document.createElement(e.type)).setAttribute("id",e.id):"number"===e.type?((n=document.createElement("input")).setAttribute("id",e.id),n.setAttribute("type",e.type),n.setAttribute("min",1)):((n=document.createElement("input")).setAttribute("id",e.id),n.setAttribute("type",e.type));if(e.pattern&&n.setAttribute("pattern",e.pattern),e.placeholder&&n.setAttribute("placeholder",e.placeholder),e.required){n.setAttribute("required","true");var s=document.createElement("span");s.classList.add("required-asterisk"),s.textContent="âœ½ ",s.setAttribute("aria-label","required field asterisk"),o.prepend(s)}var l=document.createElement("div");l.setAttribute("id","form-field-container-".concat(++t)),l.classList.add("form-field-container"),1===e.fieldSet?l.dataset.fieldSet=1:2===e.fieldSet?l.dataset.fieldSet=2:3===e.fieldSet&&(l.dataset.fieldSet=3),l.append(o,n),1===e.fieldSet?a.appendChild(l):2===e.fieldSet?r.appendChild(l):3===e.fieldSet&&i.appendChild(l)})),n.append(a,r,i);var o=document.createElement("p");o.setAttribute("id","form-requirement-text");var c=document.createElement("span");c.classList.add("asterisk-span"),c.textContent="âœ½",c.setAttribute("aria-label","required field asterisk");var s=document.createTextNode(" ï¼ required");return o.append(c,s),n.appendChild(o),t.appendChild(n),t}(e);l.appendChild(s);var d=document.createElement("dialog");return d.setAttribute("id","start-the-process-dialog"),d.append(t,r,l),d}(e);return n.append(a,r),t.append(n),t}(E)),A.appendChild(function(e,t){var n=document.createElement("footer"),a=document.createElement("div");if(a.classList.add("content-container"),e.name){var r=(new Date).getFullYear(),i=document.createElement("p");i.setAttribute("id","footer-text"),i.textContent="Â© ".concat(r," ").concat(e.name),a.appendChild(i)}if(e.logo){var o=document.createElement("img");if(o.setAttribute("id","footer-logo"),o.setAttribute("src",e.logo),o.setAttribute("alt","".concat(e.name," logo")),e.link){var c=document.createElement("a");c.setAttribute("id","footer-logo-link"),c.setAttribute("href",e.link),c.setAttribute("target","_blank"),c.appendChild(o),a.appendChild(c)}else a.appendChild(o)}return n.appendChild(a),n}(y));var w=document.querySelectorAll('a[href^="#"]');function C(){j.classList.remove("highlight"),j.removeEventListener("animationend",C)}w.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("href"),n=document.querySelector(t);if(n){var a=document.querySelector("header").offsetHeight,r=n.getBoundingClientRect().top+window.scrollY-a;window.scrollTo({top:r,behavior:"smooth"})}}))})),document.querySelector('.nav-link[href="#start-the-process"]').addEventListener("click",(function(){j.classList.add("highlight"),j.addEventListener("animationend",C)}));var S=document.getElementById("start-the-process-dialog"),x=document.getElementById("dialog-close-button"),k=document.getElementById("dialog-button-container"),q=document.getElementById("step-number"),I=document.getElementById("previous-button"),z=document.getElementById("next-button"),O={currentFieldSet:1};function N(e){if("button"===e.target.dataset.element){var t=e.target,n="previous"===t.textContent;"next"===t.textContent?(document.querySelector('[data-field-set="'.concat(O.currentFieldSet,'"]')).classList.remove("active"),O.currentFieldSet+=1):n&&(document.querySelector('[data-field-set="'.concat(O.currentFieldSet,'"]')).classList.remove("active"),O.currentFieldSet-=1),1===O.currentFieldSet?I.disabled=!0:I.disabled=!1,3===O.currentFieldSet?z.disabled=!0:z.disabled=!1,q.textContent="Step ".concat(O.currentFieldSet),document.querySelector('[data-field-set="'.concat(O.currentFieldSet,'"]')).classList.add("active")}}function B(){S.classList.remove("closing"),S.removeEventListener("animationend",B),S.close(),T(),x.removeEventListener("click",P),document.getElementById("start-the-process-form").reset(),1!==O.currentFieldSet&&(document.querySelector('[data-field-set="'.concat(O.currentFieldSet,'"]')).classList.remove("active"),document.getElementById("field-set-one").classList.add("active"),O.currentFieldSet=1,q.textContent="Step ".concat(O.currentFieldSet),I.disabled=!0,z.disabled=!1)}function P(){S.classList.add("closing"),S.addEventListener("animationend",B)}function T(){var e=document.querySelectorAll("#dialog-heading .letter");e[0].classList.contains("animate-letter")?e.forEach((function(e){e.classList.remove("animate-letter")})):e.forEach((function(e,t){setTimeout((function(){e.classList.add("animate-letter")}),123*(t+1))}))}var F,D,_,W,j=document.getElementById("start-the-process-button");function J(e){var t=e.target,n=t.options[t.selectedIndex];!0!==n.disabled&&""!==n.value&&t.classList.add("valid")}function M(){document.querySelector(".nav-toggle-button").click()}j.addEventListener("click",(function(){S.showModal();var e=document.getElementById("name");e&&e.focus(),T(),x.addEventListener("click",P),k.addEventListener("click",N)})),document.querySelectorAll("select").forEach((function(e){e.addEventListener("change",J)})),F=_=document.getElementById("dialog-heading"),D=document.createDocumentFragment(),F.textContent.split("").forEach((function(e,t){var n=document.createElement("span");n.setAttribute("id","".concat("split-text","-").concat(t+1)),n.classList.add("letter"),n.textContent=" "===e?"Â ":e,D.appendChild(n)})),W=D,_.textContent="",_.appendChild(W);var $=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.classList.add("intersecting"):e.target.classList.remove("intersecting")}))}),{threshold:.45});document.querySelectorAll("section").forEach((function(e){$.observe(e)}));var Z=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.classList.add("intersecting"):e.target.classList.remove("intersecting")}))}),{threshold:.45});document.querySelectorAll("p").forEach((function(e){Z.observe(e)}));var R=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.classList.add("intersecting"):e.target.classList.remove("intersecting")}))}),{threshold:.5}),G=document.getElementById("start-the-process-button");function H(){var e=document.documentElement.offsetWidth,t=document.querySelector(".nav-toggle-button");t&&(e>1024?("true"===t.ariaExpanded&&t.click(),t.removeEventListener("click",l),w.forEach((function(e){return e.removeEventListener("click",M)}))):(t.addEventListener("click",l),w.forEach((function(e){return e.addEventListener("click",M)}))))}R.observe(G),window.addEventListener("load",H),window.addEventListener("resize",H)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBa1AsR0FDakJELEVBQWtCRCxRQUFRRSxFQUM1QixJQW9CQSxJQUFJQyxFQUE2QixJQUFJUixzQkFWckMsU0FBNkNDLEdBQzNDQSxFQUFRNU8sU0FBUSxTQUFBNk8sR0FDVkEsRUFBTUMsZUFDUkQsRUFBTXpILE9BQU90SCxVQUFVQyxJQUFJLGdCQUUzQjhPLEVBQU16SCxPQUFPdEgsVUFBVXVCLE9BQU8sZUFFbEMsR0FDRixHQVowQixDQUN4QjBOLFVBQVcsS0FlUEssRUFBcUI1USxTQUFTK0YsZUFBZSw0QkFRbkQsU0FBUzhLLElBQ1AsSUFDTUMsRUFETzlRLFNBQVNzSixnQkFDS3lILFlBRXJCaE8sRUFBa0IvQyxTQUFTb0MsY0FBYyxzQkFFMUNXLElBRUQrTixFQUFnQixNQUNtQixTQUFqQy9OLEVBQWdCaU8sY0FBeUJqTyxFQUFnQjRNLFFBQzdENU0sRUFBZ0JzQyxvQkFBb0IsUUFBU3ZDLEdBQzdDeUssRUFBUy9MLFNBQVEsU0FBQXlQLEdBQU8sT0FBSUEsRUFBUTVMLG9CQUFvQixRQUFTcUssRUFBbUIsTUFFcEYzTSxFQUFnQkUsaUJBQWlCLFFBQVNILEdBQzFDeUssRUFBUy9MLFNBQVEsU0FBQXlQLEdBQU8sT0FBSUEsRUFBUWhPLGlCQUFpQixRQUFTeU0sRUFBbUIsS0FFckYsQ0F0QkFpQixFQUEyQkgsUUFBUUksR0F3Qm5DaFIsT0FBT3FELGlCQUFpQixPQUFRNE4sR0FDaENqUixPQUFPcUQsaUJBQWlCLFNBQVU0TixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29sbGVjdGl2ZS1jbG90aC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vY29sbGVjdGl2ZS1jbG90aC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoLy4vc3JjL3V0aWxpdGllcy9tYXJrZG93bi9jcmVhdGUtaW1hZ2UuanMiLCJ3ZWJwYWNrOi8vY29sbGVjdGl2ZS1jbG90aC8uL3NyYy91dGlsaXRpZXMvc2V0LWF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vY29sbGVjdGl2ZS1jbG90aC8uL3NyYy91dGlsaXRpZXMvY2hlY2stdGFyZ2V0LWVsZW1lbnQtZXhpc3RlbmNlLmpzIiwid2VicGFjazovL2NvbGxlY3RpdmUtY2xvdGgvLi9zcmMvdXRpbGl0aWVzL21hcmtkb3duL2NyZWF0ZS1oYW1idXJnZXIvaGFuZGxlLWhhbWJ1cmdlci5qcyIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoLy4vc3JjL3V0aWxpdGllcy9tYXJrZG93bi9jcmVhdGUtY2Fyb3VzZWwvY2Fyb3VzZWwtbWFya3VwLmpzIiwid2VicGFjazovL2NvbGxlY3RpdmUtY2xvdGgvLi9zcmMvdXRpbGl0aWVzL21hcmtkb3duL2NyZWF0ZS1jYXJvdXNlbC9jYXJvdXNlbC1sb2dpYy5qcyIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoLy4vc3JjL3V0aWxpdGllcy9tYXJrZG93bi9jcmVhdGUtY2Fyb3VzZWwvaGFuZGxlLWNhcm91c2VsLmpzIiwid2VicGFjazovL2NvbGxlY3RpdmUtY2xvdGgvLi9zcmMvanMvYXBwLmpzIiwid2VicGFjazovL2NvbGxlY3RpdmUtY2xvdGgvLi9zcmMvanMvbWFya3VwL2hlYWRlci5qcyIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoLy4vc3JjL3V0aWxpdGllcy9tYXJrZG93bi9jcmVhdGUtaGFtYnVyZ2VyL2NyZWF0ZS1oYW1idXJnZXIuanMiLCJ3ZWJwYWNrOi8vY29sbGVjdGl2ZS1jbG90aC8uL3NyYy91dGlsaXRpZXMvbWFya2Rvd24vY3JlYXRlLW5hdi5qcyIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoLy4vc3JjL2pzL21hcmt1cC9jYWxsLXRvLWFjdGlvbi5qcyIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoLy4vc3JjL2pzL21hcmt1cC9jb25uZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9jb2xsZWN0aXZlLWNsb3RoLy4vc3JjL2pzL21hcmt1cC93aG8tYXJlLXdlLmpzIiwid2VicGFjazovL2NvbGxlY3RpdmUtY2xvdGgvLi9zcmMvanMvbWFya3VwL2hvdy1kb2VzLWl0LXdvcmsuanMiLCJ3ZWJwYWNrOi8vY29sbGVjdGl2ZS1jbG90aC8uL3NyYy9qcy9tYXJrdXAvc3RhcnQtdGhlLXByb2Nlc3MuanMiLCJ3ZWJwYWNrOi8vY29sbGVjdGl2ZS1jbG90aC8uL3NyYy9qcy9tYXJrdXAvZm9vdGVyLmpzIiwid2VicGFjazovL2NvbGxlY3RpdmUtY2xvdGgvLi9zcmMvanMvc3BlY2lhbC1lZmZlY3RzL3NwbGl0LXRleHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAoIXNjcmlwdFVybCB8fCAhL15odHRwKHM/KTovLnRlc3Qoc2NyaXB0VXJsKSkpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvKipcbiAqIENyZWF0ZXMgYW4gaW1hZ2UgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc291cmNlIFVSTCBvZiB0aGUgaW1hZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgSUQgb2YgdGhlIGltYWdlLlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGNsYXNzTmFtZXMgLSBUaGUgY2xhc3Mgb3IgY2xhc3NlcyB0byBiZSBhZGRlZCB0byB0aGUgaW1hZ2UuIENhbiBiZSBhIHNpbmdsZSBzdHJpbmcgY2xhc3MgbmFtZSBvciBhbiBhcnJheSBvZiBjbGFzcyBuYW1lcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhbHQgLSBUaGUgYWx0ZXJuYXRlIHRleHQgZm9yIHRoZSBpbWFnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhcmlhTGFiZWwgLSBUaGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUgZm9yIHRoZSBpbWFnZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IHNpemVBcnJheSAtIFRoZSBhcnJheSBvZiBzaXplcyBmb3IgdGhlIGltYWdlIGluIGZvcm1hdDogV2lkdGggeCBIZWlnaHQuXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIG5hdmlnYXRpb24gZWxlbWVudC5cbiAqIEB0aHJvd3Mge0Vycm9yfSAtIEludmFsaWQgaW5wdXQgdHlwZS4gUGxlYXNlIHByb3ZpZGUgdmFsaWQgaW5wdXQgdHlwZXMuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKHNyYywgaWQsIGNsYXNzTmFtZXMsIGFsdCwgYXJpYUxhYmVsLCBzaXplQXJyYXkpIHtcbiAgaWYgKFxuICAgIHR5cGVvZiBpZCAhPT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJyB8fFxuICAgIHR5cGVvZiBhbHQgIT09ICdzdHJpbmcnIHx8XG4gICAgISh0eXBlb2YgY2xhc3NOYW1lcyA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShjbGFzc05hbWVzKSkgfHxcbiAgICB0eXBlb2YgYXJpYUxhYmVsICE9PSAnc3RyaW5nJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgdHlwZS4gUGxlYXNlIHByb3ZpZGUgdmFsaWQgaW5wdXQgdHlwZXMuJyk7XG4gIH1cblxuICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgaW1nLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gIGltZy5zcmMgPSBzcmM7XG4gIGltZy5hbHQgPSBhbHQ7XG5cbiAgaWYgKGNsYXNzTmFtZXMpIHtcbiAgICBpZiAodHlwZW9mIGNsYXNzTmFtZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbWcuY2xhc3NMaXN0LmFkZChjbGFzc05hbWVzKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2xhc3NOYW1lcykpIHtcbiAgICAgIGNsYXNzTmFtZXMuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiBpbWcuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpKTtcbiAgICB9XG4gIH1cblxuICBpbWcuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYXJpYUxhYmVsKTtcblxuICBpZiAoc2l6ZUFycmF5KSB7XG4gICAgY29uc3QgW2hlaWdodCwgd2lkdGhdID0gc2l6ZUFycmF5O1xuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgaW1nLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XG4gIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBhZGQgYSBzaXplIGFycmF5IGZvciB0aGUgaW1hZ2UuJyk7XG5cbiAgcmV0dXJuIGltZztcbn1cbiIsImZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9XG59XG5cbmV4cG9ydCB7IHNldEF0dHJpYnV0ZXMgfTsiLCJmdW5jdGlvbiBjaGVja1RhcmdldEVsZW1lbnRFeGlzdGVuY2Uoc2VsZWN0b3IpIHtcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICBcbiAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgY29uc29sZS5lcnJvcihgRWxlbWVudCBub3QgZm91bmQgZm9yIHNlbGVjdG9yOiAke3NlbGVjdG9yfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXRFbGVtZW50O1xufVxuXG5leHBvcnQgeyBjaGVja1RhcmdldEVsZW1lbnRFeGlzdGVuY2UgfTsiLCIvLyAqIFVUSUxJVElFU1xuaW1wb3J0IHsgY2hlY2tUYXJnZXRFbGVtZW50RXhpc3RlbmNlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbGl0aWVzL2NoZWNrLXRhcmdldC1lbGVtZW50LWV4aXN0ZW5jZS5qcyc7XG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IG5hdlN0YXRlID0ge1xuICBhbmltYXRpbmc6IGZhbHNlLFxufTtcblxuZnVuY3Rpb24gdG9nZ2xlTmF2VmlzaWJpbGl0eShpc05hdlRvZ2dsZUFjdGl2ZSkge1xuICBjb25zdCBuYXYgPSBjaGVja1RhcmdldEVsZW1lbnRFeGlzdGVuY2UoJ25hdicpO1xuXG4gIGlmICghaXNOYXZUb2dnbGVBY3RpdmUpIHtcbiAgICBuYXYuY2xhc3NMaXN0LmFkZCgnZXhwYW5kZWQnKTtcbiAgICBuYXZTdGF0ZS5hbmltYXRpbmcgPSB0cnVlO1xuICB9IGVsc2UgaWYgKGlzTmF2VG9nZ2xlQWN0aXZlKSB7XG4gICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2V4cGFuZGVkJyk7XG4gICAgbmF2U3RhdGUuYW5pbWF0aW5nID0gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTmF2VG9nZ2xlQnV0dG9uKCkge1xuICBjb25zdCBuYXZUb2dnbGVCdXR0b24gPSBjaGVja1RhcmdldEVsZW1lbnRFeGlzdGVuY2UoJy5uYXYtdG9nZ2xlLWJ1dHRvbicpO1xuICBjb25zdCBpc05hdlRvZ2dsZUFjdGl2ZSA9IG5hdlRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuXG4gIGlmICghaXNOYXZUb2dnbGVBY3RpdmUpIHtcbiAgICBpZiAobmF2U3RhdGUuYW5pbWF0aW5nID09PSB0cnVlKSByZXR1cm47XG5cbiAgICBuYXZUb2dnbGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICBuYXZUb2dnbGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0Nsb3NlIE5hdmlnYXRpb24gTWVudScpO1xuICAgIG5hdlRvZ2dsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgIHRvZ2dsZU5hdlZpc2liaWxpdHkoaXNOYXZUb2dnbGVBY3RpdmUpO1xuXG4gIH0gZWxzZSB7XG4gICAgbmF2VG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXG4gICAgbmF2VG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdPcGVuIE5hdmlnYXRpb24gTWVudScpO1xuICAgIG5hdlRvZ2dsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG5cbiAgICB0b2dnbGVOYXZWaXNpYmlsaXR5KGlzTmF2VG9nZ2xlQWN0aXZlKTtcbiAgfVxuXG4gIG5hdlRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdlRvZ2dsZUJ1dHRvbik7XG59XG5cbmV4cG9ydCB7IGhhbmRsZU5hdlRvZ2dsZUJ1dHRvbiB9O1xuIiwiaW1wb3J0ICcuL2Nhcm91c2VsLnNjc3MnO1xuXG5pbXBvcnQgeyBzZXRBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbGl0aWVzL3NldC1hdHRyaWJ1dGVzLmpzJztcblxuLy8gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJvdXNlbE5hdmlnYXRpb25Db250YWluZXIoaW1hZ2VzQXJyYXkpIHtcbiAgaWYgKCFpbWFnZXNBcnJheS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignTm8gaW1hZ2VzIHByb3ZpZGVkIGZvciBjYXJvdXNlbC4nKTtcblxuICBjb25zdCBjYXJvdXNlbE5hdmlnYXRpb25CdXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXG4gICAgJ2Nhcm91c2VsLW5hdmlnYXRpb24tYnV0dG9uLWNvbnRhaW5lcidcbiAgKTtcblxuICBpbWFnZXNBcnJheS5mb3JFYWNoKChpbWFnZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBjYXJvdXNlbE5hdmlnYXRpb25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjYXJvdXNlbE5hdmlnYXRpb25CdXR0b24uY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWwtbmF2aWdhdGlvbi1idXR0b24nKTtcbiAgICBpZiAoaW5kZXggPT09IDApIGNhcm91c2VsTmF2aWdhdGlvbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBzZXRBdHRyaWJ1dGVzKGNhcm91c2VsTmF2aWdhdGlvbkJ1dHRvbiwge1xuICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAnYXJpYS1sYWJlbCc6IGBHbyB0byBzbGlkZSAke2luZGV4ICsgMX1gLFxuICAgICAgJ2RhdGEtaW5kZXgnOiBpbmRleCArIDEsXG4gICAgfSk7XG5cbiAgICBjYXJvdXNlbE5hdmlnYXRpb25CdXR0b25Db250YWluZXIuYXBwZW5kKGNhcm91c2VsTmF2aWdhdGlvbkJ1dHRvbik7XG4gIH0pO1xuXG4gIGNvbnN0IGNhcm91c2VsTmF2aWdhdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjYXJvdXNlbE5hdmlnYXRpb25Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWwtbmF2aWdhdGlvbi1jb250YWluZXInKTtcbiAgY2Fyb3VzZWxOYXZpZ2F0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcm91c2VsTmF2aWdhdGlvbkJ1dHRvbkNvbnRhaW5lcik7XG5cbiAgcmV0dXJuIGNhcm91c2VsTmF2aWdhdGlvbkNvbnRhaW5lcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2Fyb3VzZWxTbGlkZUNvbnRhaW5lcihpbWFnZXNBcnJheSkge1xuICBpZiAoIWltYWdlc0FycmF5IHx8ICFpbWFnZXNBcnJheS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignTm8gaW1hZ2VzIHByb3ZpZGVkIGZvciBjYXJvdXNlbC4nKTtcblxuICBjb25zdCBjYXJvdXNlbFNsaWRlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNhcm91c2VsU2xpZGVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWwtc2xpZGUtY29udGFpbmVyJyk7XG5cbiAgaW1hZ2VzQXJyYXkuZm9yRWFjaCgoaW1hZ2UsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaW1hZ2VGaWdjYXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ2NhcHRpb24nKTtcbiAgICBpbWFnZUZpZ2NhcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsLWltYWdlLWNhcHRpb24nKTtcbiAgICBpbWFnZUZpZ2NhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gaW1hZ2UuYWx0O1xuXG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgaW1hZ2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsLWltYWdlJywgJ25vbi1pbnRlcmFjdGl2ZScpO1xuICAgIHNldEF0dHJpYnV0ZXMoaW1hZ2VFbGVtZW50LCB7XG4gICAgICBzcmM6IGltYWdlLnNyYyxcbiAgICAgIGFsdDogaW1hZ2UuYWx0LFxuICAgIH0pO1xuXG4gICAgY29uc3QgaW1hZ2VJbmRleFNwYW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGltYWdlSW5kZXhTcGFuRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbC1pbWFnZS1pbmRleCcpO1xuICAgIGltYWdlSW5kZXhTcGFuRWxlbWVudC50ZXh0Q29udGVudCA9IGAkeyBpbmRleCArIDEgfS8keyBpbWFnZXNBcnJheS5sZW5ndGggfWA7XG5cbiAgICBjb25zdCBpbWFnZUZpZ3VyZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKTtcbiAgICBpbWFnZUZpZ3VyZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWwtaW1hZ2UtY29udGFpbmVyJyk7XG4gICAgaW1hZ2VGaWd1cmVFbGVtZW50LmFwcGVuZChcbiAgICAgIGltYWdlSW5kZXhTcGFuRWxlbWVudCxcbiAgICAgIGltYWdlRWxlbWVudCxcbiAgICAgIGltYWdlRmlnY2FwdGlvbkVsZW1lbnRcbiAgICApO1xuXG4gICAgY29uc3QgY2Fyb3VzZWxTbGlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcm91c2VsU2xpZGUuY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWwtc2xpZGUnKTtcbiAgICBpZiAoaW5kZXggPT09IDApIGNhcm91c2VsU2xpZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgY2Fyb3VzZWxTbGlkZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpbmRleCArIDEpO1xuICAgIGNhcm91c2VsU2xpZGUuYXBwZW5kKGltYWdlRmlndXJlRWxlbWVudCk7XG4gIFxuICAgIGNhcm91c2VsU2xpZGVDb250YWluZXIuYXBwZW5kKGNhcm91c2VsU2xpZGUpO1xuICB9KTtcblxuICByZXR1cm4gY2Fyb3VzZWxTbGlkZUNvbnRhaW5lcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2Fyb3VzZWxDb250YWluZXIoaW1hZ2VzQXJyYXkpIHtcbiAgY29uc3QgcmlnaHRBcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICByaWdodEFycm93LmNsYXNzTGlzdC5hZGQoJ2Fycm93JywgJ3JpZ2h0LWFycm93JywgJ2Nhcm91c2VsLWFycm93Jyk7XG4gIHNldEF0dHJpYnV0ZXMocmlnaHRBcnJvdywge1xuICAgIHR5cGU6ICdidXR0b24nLFxuICAgICdhcmlhLWxhYmVsJzogJ05leHQnLFxuICB9KTtcblxuICBjb25zdCBjYXJvdXNlbFNsaWRlcyA9IGNyZWF0ZUNhcm91c2VsU2xpZGVDb250YWluZXIoaW1hZ2VzQXJyYXkpO1xuXG4gIGNvbnN0IGxlZnRBcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBsZWZ0QXJyb3cuY2xhc3NMaXN0LmFkZCgnYXJyb3cnLCAnbGVmdC1hcnJvdycsICdjYXJvdXNlbC1hcnJvdycpO1xuICBzZXRBdHRyaWJ1dGVzKGxlZnRBcnJvdywge1xuICAgIHR5cGU6ICdidXR0b24nLFxuICAgICdhcmlhLWxhYmVsJzogJ1ByZXZpb3VzJyxcbiAgfSk7XG5cbiAgY29uc3QgY2Fyb3VzZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY2Fyb3VzZWxDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWwtY29udGFpbmVyJyk7XG4gIGNhcm91c2VsQ29udGFpbmVyLmFwcGVuZChsZWZ0QXJyb3csIGNhcm91c2VsU2xpZGVzLCByaWdodEFycm93KTtcblxuICByZXR1cm4gY2Fyb3VzZWxDb250YWluZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcm91c2VsKGltYWdlc0FycmF5KSB7XG4gIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmlndXJlJyk7XG4gIGNhcm91c2VsLmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsJyk7XG5cbiAgY29uc3QgY2Fyb3VzZWxDb250YWluZXIgPSBjcmVhdGVDYXJvdXNlbENvbnRhaW5lcihpbWFnZXNBcnJheSk7XG4gIGNvbnN0IGNhcm91c2VsTmF2aWdhdGlvbkNvbnRhaW5lciA9XG4gICAgY3JlYXRlQ2Fyb3VzZWxOYXZpZ2F0aW9uQ29udGFpbmVyKGltYWdlc0FycmF5KTtcblxuICBjYXJvdXNlbC5hcHBlbmQoY2Fyb3VzZWxDb250YWluZXIsIGNhcm91c2VsTmF2aWdhdGlvbkNvbnRhaW5lcik7XG5cbiAgcmV0dXJuIGNhcm91c2VsO1xufVxuXG5leHBvcnQgeyBjcmVhdGVDYXJvdXNlbCB9OyIsImxldCBzbGlkZUluZGV4ID0gMTtcbmxldCBpc1NsaWRlVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4vLyA/IE5leHQvcHJldmlvdXMgY29udHJvbHNcbmZ1bmN0aW9uIHBsdXNTbGlkZXMoaW5kZXgpIHtcbiAgc2hvd1NsaWRlcyhzbGlkZUluZGV4ICs9IGluZGV4KTtcbn1cblxuLy8gPyBUaHVtYm5haWwgaW1hZ2UgY29udHJvbHNcbmZ1bmN0aW9uIGN1cnJlbnRTbGlkZShpbmRleCkge1xuICBzaG93U2xpZGVzKHNsaWRlSW5kZXggPSBpbmRleCk7XG59XG5cbmZ1bmN0aW9uIHNldE5ld0FjdGl2ZVNsaWRlKCkge1xuICBjb25zdCBjYXJvdXNlbFNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC1zbGlkZScpO1xuICBjb25zdCBjYXJvdXNlbE5hdmlnYXRpb25CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLmNhcm91c2VsLW5hdmlnYXRpb24tYnV0dG9uJ1xuICApO1xuXG4gIGNhcm91c2VsU2xpZGVzW3NsaWRlSW5kZXggLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgY2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9uc1tzbGlkZUluZGV4IC0gMV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIGRlYWN0aXZhdGVDdXJyZW50TmF2aWdhdGlvbkJ1dHRvbigpIHtcbiAgY29uc3QgYWN0aXZlQ2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLW5hdmlnYXRpb24tYnV0dG9uLmFjdGl2ZScpO1xuICBhY3RpdmVDYXJvdXNlbE5hdmlnYXRpb25CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIHNldERlYWN0aXZhdGVkU2xpZGVUb0Rpc3BsYXlOb25lKGRlYWN0aXZhdGluZ0Nhcm91c2VsU2xpZGUpIHtcbiAgZGVhY3RpdmF0aW5nQ2Fyb3VzZWxTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdkZWFjdGl2YXRpbmcnLCAnYWN0aXZlJyk7XG4gIGlzU2xpZGVUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG5cbiAgZGVhY3RpdmF0aW5nQ2Fyb3VzZWxTbGlkZS5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBkZWFjdGl2YXRpbmdDYXJvdXNlbFNsaWRlLnNldERlYWN0aXZhdGVkU2xpZGVUb0Rpc3BsYXlOb25lUmVmKTtcbn1cblxuZnVuY3Rpb24gYWRkU2xpZGVBbmltYXRpb25FbmRMaXN0ZW5lcihkZWFjdGl2YXRpbmdDYXJvdXNlbFNsaWRlKSB7XG4gIGRlYWN0aXZhdGluZ0Nhcm91c2VsU2xpZGUuc2V0RGVhY3RpdmF0ZWRTbGlkZVRvRGlzcGxheU5vbmVSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0RGVhY3RpdmF0ZWRTbGlkZVRvRGlzcGxheU5vbmUoZGVhY3RpdmF0aW5nQ2Fyb3VzZWxTbGlkZSk7XG4gIH07XG5cbiAgZGVhY3RpdmF0aW5nQ2Fyb3VzZWxTbGlkZS5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBkZWFjdGl2YXRpbmdDYXJvdXNlbFNsaWRlLnNldERlYWN0aXZhdGVkU2xpZGVUb0Rpc3BsYXlOb25lUmVmKTtcbn1cblxuZnVuY3Rpb24gZGVhY3RpdmF0ZUN1cnJlbnRTbGlkZSgpIHsgIFxuICBjb25zdCBhY3RpdmVDYXJvdXNlbFNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLXNsaWRlLmFjdGl2ZScpO1xuICBhY3RpdmVDYXJvdXNlbFNsaWRlLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZhdGluZycpO1xuICBpc1NsaWRlVHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbiAgYWRkU2xpZGVBbmltYXRpb25FbmRMaXN0ZW5lcihhY3RpdmVDYXJvdXNlbFNsaWRlKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRTbGlkZUluZGV4KGNhcm91c2VsU2xpZGVzTGVuZ3RoLCBpbmRleCkge1xuICAvLyA/IHJlc2V0IHRvIGZpcnN0IHNsaWRlIGlmIGNsaWNrZWQgb24gbmV4dCBmcm9tIGxhc3Qgc2xpZGVcbiAgaWYgKGluZGV4ID4gY2Fyb3VzZWxTbGlkZXNMZW5ndGgpIHtcbiAgICBzbGlkZUluZGV4ID0gMTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyA/IHJlc2V0IHRvIGxhc3Qgc2xpZGUgaWYgY2xpY2tlZCBvbiBwcmV2aW91cyBmcm9tIGZpcnN0IHNsaWRlXG4gIGlmIChpbmRleCA8IDEpIHtcbiAgICBzbGlkZUluZGV4ID0gY2Fyb3VzZWxTbGlkZXNMZW5ndGg7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3dTbGlkZXMoaW5kZXgpIHtcbiAgY29uc3QgY2Fyb3VzZWxTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtc2xpZGUnKTtcbiAgY29uc3QgY2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgJy5jYXJvdXNlbC1uYXZpZ2F0aW9uLWJ1dHRvbidcbiAgKTtcblxuICByZXNldFNsaWRlSW5kZXgoY2Fyb3VzZWxTbGlkZXMubGVuZ3RoLCBpbmRleCk7XG4gIGRlYWN0aXZhdGVDdXJyZW50U2xpZGUoKTtcbiAgZGVhY3RpdmF0ZUN1cnJlbnROYXZpZ2F0aW9uQnV0dG9uKCk7XG4gIHNldE5ld0FjdGl2ZVNsaWRlKGNhcm91c2VsU2xpZGVzLCBjYXJvdXNlbE5hdmlnYXRpb25CdXR0b25zKTtcbn1cblxuZXhwb3J0IHsgc2hvd1NsaWRlcywgcGx1c1NsaWRlcywgY3VycmVudFNsaWRlLCBzbGlkZUluZGV4LCBpc1NsaWRlVHJhbnNpdGlvbmluZ307IiwiaW1wb3J0IHtcbiAgcGx1c1NsaWRlcyxcbiAgc2xpZGVJbmRleCxcbiAgY3VycmVudFNsaWRlLFxuICBpc1NsaWRlVHJhbnNpdGlvbmluZ1xufSBmcm9tICcuL2Nhcm91c2VsLWxvZ2ljLmpzJztcblxuLy8gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiB1cGRhdGVSb290QW5pbWF0aW9uUHJvcGVydHkocm9vdEVsZW1lbnQsIGRpcmVjdGlvbikge1xuICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICByb290RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mYWRlLWluJywgJ3ZhcigtLWxlZnQtZmFkZS1pbi1hbmltYXRpb24pJyk7XG4gICAgcm9vdEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZmFkZS1vdXQnLCAndmFyKC0tbGVmdC1mYWRlLW91dC1hbmltYXRpb24pJyk7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgcm9vdEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tZmFkZS1pbicsICd2YXIoLS1yaWdodC1mYWRlLWluLWFuaW1hdGlvbiknKTtcbiAgICByb290RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1mYWRlLW91dCcsICd2YXIoLS1yaWdodC1mYWRlLW91dC1hbmltYXRpb24pJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9uQ2xpY2socm9vdEVsZW1lbnQpIHtcbiAgY29uc3QgY2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC1uYXZpZ2F0aW9uLWJ1dHRvbicpO1xuXG4gIGNhcm91c2VsTmF2aWdhdGlvbkJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uLCBpbmRleCkgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuICAgICAgaWYgKGlzU2xpZGVUcmFuc2l0aW9uaW5nKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZUluZGV4ID0gc2xpZGVJbmRleDtcblxuICAgICAgY3VycmVudFNsaWRlKGluZGV4ICsgMSk7XG5cbiAgICAgIGlmIChjdXJyZW50U2xpZGVJbmRleCA8IHNsaWRlSW5kZXgpIHtcbiAgICAgICAgdXBkYXRlUm9vdEFuaW1hdGlvblByb3BlcnR5KHJvb3RFbGVtZW50LCAncmlnaHQnKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudFNsaWRlSW5kZXggPiBzbGlkZUluZGV4KSB7XG4gICAgICAgIHVwZGF0ZVJvb3RBbmltYXRpb25Qcm9wZXJ0eShyb290RWxlbWVudCwgJ2xlZnQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcm91c2VsQXJyb3dDbGljayhyb290RWxlbWVudCkge1xuICBjb25zdCBsZWZ0QXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtYXJyb3cubGVmdC1hcnJvdycpO1xuICBjb25zdCByaWdodEFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWFycm93LnJpZ2h0LWFycm93Jyk7XG5cbiAgaWYgKGxlZnRBcnJvdykge1xuICAgIGxlZnRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChpc1NsaWRlVHJhbnNpdGlvbmluZykgcmV0dXJuO1xuICAgICAgY29uc3QgY3VycmVudFNsaWRlSW5kZXggPSBzbGlkZUluZGV4O1xuXG4gICAgICBwbHVzU2xpZGVzKC0xKTtcbiAgICAgIHVwZGF0ZVJvb3RBbmltYXRpb25Qcm9wZXJ0eShyb290RWxlbWVudCwgJ2xlZnQnKTtcblxuICAgICAgaWYgKGN1cnJlbnRTbGlkZUluZGV4IDw9IHNsaWRlSW5kZXgpIHtcbiAgICAgICAgdXBkYXRlUm9vdEFuaW1hdGlvblByb3BlcnR5KHJvb3RFbGVtZW50LCAncmlnaHQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSByaWdodCBhcnJvdyBjbGlja1xuICBpZiAocmlnaHRBcnJvdykge1xuICAgIHJpZ2h0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoaXNTbGlkZVRyYW5zaXRpb25pbmcpIHJldHVybjtcbiAgICAgIGNvbnN0IGN1cnJlbnRTbGlkZUluZGV4ID0gc2xpZGVJbmRleDtcblxuICAgICAgcGx1c1NsaWRlcygxKTtcbiAgICAgIHVwZGF0ZVJvb3RBbmltYXRpb25Qcm9wZXJ0eShyb290RWxlbWVudCwgJ3JpZ2h0Jyk7XG5cbiAgICAgIGlmIChjdXJyZW50U2xpZGVJbmRleCA+PSBzbGlkZUluZGV4KSB7XG4gICAgICAgIHVwZGF0ZVJvb3RBbmltYXRpb25Qcm9wZXJ0eShyb290RWxlbWVudCwgJ2xlZnQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVDYXJvdXNlbCgpIHtcbiAgY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgaGFuZGxlQ2Fyb3VzZWxBcnJvd0NsaWNrKHJvb3RFbGVtZW50KTtcbiAgaGFuZGxlQ2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9uQ2xpY2socm9vdEVsZW1lbnQpO1xufVxuXG5leHBvcnQgeyBoYW5kbGVDYXJvdXNlbCB9O1xuIiwiLy8gKiBIQU5ETEVSU1xuLy8gaW1wb3J0IHsgaGFuZGxlSW5pdGlhbERPTUludGVyYWN0aXZpdHkgfSBmcm9tICcuL2hhbmRsZXJzL2hhbmRsZS1pbml0aWFsLWRvbS1pbnRlcmFjdGl2aXR5LmpzJztcblxuLy8gKiBNQVJLVVBcbi8vIGltcG9ydCB7IGNyZWF0ZURPTSB9IGZyb20gJy4vbWFya3VwL2NyZWF0ZS1kb20uanMnO1xuXG4vLyAqIE1PRElGSUVSU1xuLy8gaW1wb3J0IHsgbW9kaWZ5RE9NIH0gZnJvbSAnLi9tb2RpZmllcnMvbW9kaWZ5LWRvbS5qcyc7XG5cbi8vICogUFJPSkVDVF9ERVBFTkRFTlRfVVRJTElUSUVTXG4vLyBpbXBvcnQgeyByZXRyaWV2ZVVzZXJEYXRhIH0gZnJvbSAnLi9wcm9qZWN0LWRlcGVuZGVudC11dGlsaXRpZXMvcmV0cmlldmUtdXNlci1kYXRhLmpzJztcblxuLy8gKlxuaW1wb3J0ICcuLi9zYXNzL21haW4uc2Nzcyc7XG5cblxuLy8gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBhcHBJbml0KCkge1xuICByZXRyaWV2ZVVzZXJEYXRhKCk7XG4gIGNyZWF0ZURPTSgpO1xuICBtb2RpZnlET00oKTtcbiAgaGFuZGxlSW5pdGlhbERPTUludGVyYWN0aXZpdHkoKTtcbn1cblxuLy8gYXBwSW5pdCgpO1xuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcblxuaW1wb3J0IHsgY3JlYXRlSGVhZGVyIH0gZnJvbSAnLi9tYXJrdXAvaGVhZGVyLmpzJztcbmNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlSGVhZGVyKCkpO1xuXG5pbXBvcnQgeyBoYW5kbGVOYXZUb2dnbGVCdXR0b24gfSBmcm9tICcuLi91dGlsaXRpZXMvbWFya2Rvd24vY3JlYXRlLWhhbWJ1cmdlci9oYW5kbGUtaGFtYnVyZ2VyLmpzJztcbmNvbnN0IG5hdlRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtdG9nZ2xlLWJ1dHRvbicpO1xubmF2VG9nZ2xlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2VG9nZ2xlQnV0dG9uKTtcblxuaW1wb3J0IHsgY3JlYXRlQ2FsbFRvQWN0aW9uU2VjdGlvbiB9IGZyb20gJy4vbWFya3VwL2NhbGwtdG8tYWN0aW9uLmpzJztcbmNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlQ2FsbFRvQWN0aW9uU2VjdGlvbigpKTtcblxuaW1wb3J0IGNvbm5lY3Rpb25zIGZyb20gJy4uL2pzb24vY29ubmVjdGlvbnMuanNvbicgd2l0aCB7IHR5cGU6ICdqc29uJyB9O1xuaW1wb3J0IHsgY3JlYXRlQ29ubmVjdGlvbnNTZWN0aW9uIH0gZnJvbSAnLi9tYXJrdXAvY29ubmVjdGlvbnMuanMnO1xuY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVDb25uZWN0aW9uc1NlY3Rpb24oY29ubmVjdGlvbnMpKTtcblxuaW1wb3J0IGNhcm91c2VsSW1hZ2VzIGZyb20gJy4uL2pzb24vY2Fyb3VzZWwtaW1hZ2VzLmpzb24nIHdpdGggeyB0eXBlOiAnanNvbicgfTtcbmltcG9ydCB7IGNyZWF0ZVdob0FyZVdlU2VjdGlvbiB9IGZyb20gJy4vbWFya3VwL3doby1hcmUtd2UuanMnO1xuY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVXaG9BcmVXZVNlY3Rpb24oY2Fyb3VzZWxJbWFnZXMpKTtcbmltcG9ydCB7IGhhbmRsZUNhcm91c2VsIH0gZnJvbSAnLi4vdXRpbGl0aWVzL21hcmtkb3duL2NyZWF0ZS1jYXJvdXNlbC9oYW5kbGUtY2Fyb3VzZWwuanMnO1xuaGFuZGxlQ2Fyb3VzZWwoKTtcblxuaW1wb3J0IGluc3RydWN0aW9ucyBmcm9tICcuLi9qc29uL2luc3RydWN0aW9ucy5qc29uJyB3aXRoIHsgdHlwZTogJ2pzb24nIH07XG5pbXBvcnQgeyBjcmVhdGVIb3dEb2VzSXRXb3JrU2VjdGlvbiB9IGZyb20gJy4vbWFya3VwL2hvdy1kb2VzLWl0LXdvcmsuanMnO1xuY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVIb3dEb2VzSXRXb3JrU2VjdGlvbihpbnN0cnVjdGlvbnMpKTtcblxuaW1wb3J0IHsgY3JlYXRlU3RhcnRUaGVQcm9jZXNzU2VjdGlvbiB9IGZyb20gJy4vbWFya3VwL3N0YXJ0LXRoZS1wcm9jZXNzLmpzJztcbmltcG9ydCBmb3JtIGZyb20gJy4uL2pzb24vZm9ybS5qc29uJyB3aXRoIHsgdHlwZTogJ2pzb24nIH07XG5jb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZVN0YXJ0VGhlUHJvY2Vzc1NlY3Rpb24oZm9ybSkpO1xuXG5pbXBvcnQgY29tcGFueUluZm8gZnJvbSAnLi4vanNvbi9jb21wYW55LWluZm8uanNvbicgd2l0aCB7IHR5cGU6ICdqc29uJyB9O1xuaW1wb3J0IHsgY3JlYXRlRm9vdGVyIH0gZnJvbSAnLi9tYXJrdXAvZm9vdGVyLmpzJztcbmNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRm9vdGVyKGNvbXBhbnlJbmZvKSk7XG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gPyAgaGFuZGxlLW5hdmlnYXRpb24uanNcblxuY29uc3QgbmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZePVwiI1wiXScpO1xubmF2TGlua3MuZm9yRWFjaCgoYW5jaG9yKSA9PiB7XG4gIGFuY2hvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdGFyZ2V0SWQgPSB0aGlzLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0SWQpO1xuXG4gICAgaWYgKHRhcmdldEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGhlYWRlckhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpLm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0gdGFyZ2V0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWSAtIGhlYWRlckhlaWdodDtcbiAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHJldHVybnMgdGhlIHNpemUgb2YgYW4gZWxlbWVudCBhbmQgaXRzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydFxuICAgICAgLy8gLnRvcCByZXR1cm5zIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSB0b3Agb2YgdGhlIHZpZXdwb3J0IHRvIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnRcbiAgICAgIC8vIHdpbmRvdy5zY3JvbGxZIHJldHVybnMgdGhlIG51bWJlciBvZiBwaXhlbHMgdGhhdCB0aGUgZG9jdW1lbnQgaGFzIGFscmVhZHkgYmVlbiBzY3JvbGxlZCB2ZXJ0aWNhbGx5IGZyb20gdGhlIHRvcFxuXG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgICB0b3A6IHRhcmdldFBvc2l0aW9uLFxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIlxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vID8gaGFuZGxlLWJ1dHRvbi1oaWdobGlnaHQuanNcblxuY29uc3Qgc3RhcnRUaGVQcm9jZXNzTmF2TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtbGlua1tocmVmPVwiI3N0YXJ0LXRoZS1wcm9jZXNzXCJdJyk7XG5cbmZ1bmN0aW9uIHJlbW92ZUhpZ2hsaWdodENsYXNzKCkge1xuICBzdGFydFRoZVByb2Nlc3NCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0Jyk7XG4gIHN0YXJ0VGhlUHJvY2Vzc0J1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCByZW1vdmVIaWdobGlnaHRDbGFzcyk7XG59XG5cbi8vIHVzZXMgc3RhcnQgcHJvY2VzcyBidXR0b24gZnJvbSBoYW5kbGUtZGlhbG9nLWJ1dHRvbnMuanMgIFxuZnVuY3Rpb24gYWRkSGlnaGxpZ2h0Q2xhc3MoKSB7XG4gIHN0YXJ0VGhlUHJvY2Vzc0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcbiAgc3RhcnRUaGVQcm9jZXNzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIHJlbW92ZUhpZ2hsaWdodENsYXNzKTtcbn1cblxuc3RhcnRUaGVQcm9jZXNzTmF2TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZEhpZ2hsaWdodENsYXNzKTtcblxuLy8gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyA/IGhhbmRsZS1kaWFsb2ctYnV0dG9ucy5qc1xuXG4vL1RPRE86IFJFRkFDVE9SIEJFTE9XXG5cbmNvbnN0IHN0YXJ0VGhlUHJvY2Vzc0RpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC10aGUtcHJvY2Vzcy1kaWFsb2cnKTtcbmNvbnN0IGNsb3NlRGlhbG9nQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpYWxvZy1jbG9zZS1idXR0b24nKTtcbmNvbnN0IGRpYWxvZ0J1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2ctYnV0dG9uLWNvbnRhaW5lcicpO1xuY29uc3Qgc3RlcE51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGVwLW51bWJlcicpO1xuXG5jb25zdCBwcmV2aW91c0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aW91cy1idXR0b24nKTtcbmNvbnN0IG5leHRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dC1idXR0b24nKTtcblxubGV0IGZvcm1TdGF0ZSA9IHtcbiAgY3VycmVudEZpZWxkU2V0OiAxLFxufVxuXG5mdW5jdGlvbiByZXNldERpYWxvZygpIHtcbiAgY29uc3Qgc3RhcnRUaGVQcm9jZXNzRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC10aGUtcHJvY2Vzcy1mb3JtJyk7XG4gIHN0YXJ0VGhlUHJvY2Vzc0Zvcm0ucmVzZXQoKTtcblxuICBpZiAoZm9ybVN0YXRlLmN1cnJlbnRGaWVsZFNldCAhPT0gMSkge1xuICAgIGNvbnN0IGN1cnJlbnRGaWVsZFNldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZpZWxkLXNldD1cIiR7Zm9ybVN0YXRlLmN1cnJlbnRGaWVsZFNldH1cIl1gKTtcbiAgICBjdXJyZW50RmllbGRTZXQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cbiAgICBjb25zdCBmaWVsZFNldE9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWVsZC1zZXQtb25lJyk7XG4gICAgZmllbGRTZXRPbmUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICBmb3JtU3RhdGUuY3VycmVudEZpZWxkU2V0ID0gMTtcbiAgICBzdGVwTnVtYmVyLnRleHRDb250ZW50ID0gYFN0ZXAgJHtmb3JtU3RhdGUuY3VycmVudEZpZWxkU2V0fWA7XG4gICAgcHJldmlvdXNCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVEaWFsb2dCdXR0b25zKGUpIHtcbiAgaWYgKGUudGFyZ2V0LmRhdGFzZXQuZWxlbWVudCAhPT0gJ2J1dHRvbicpIHJldHVybjtcblxuICBjb25zdCBidXR0b24gPSBlLnRhcmdldDtcbiAgY29uc3QgcHJldmlvdXNCdXR0b25DbGlja2VkID0gYnV0dG9uLnRleHRDb250ZW50ID09PSAncHJldmlvdXMnO1xuICBjb25zdCBuZXh0QnV0dG9uQ2xpY2tlZCA9IGJ1dHRvbi50ZXh0Q29udGVudCA9PT0gJ25leHQnO1xuXG4gIGlmIChuZXh0QnV0dG9uQ2xpY2tlZCkge1xuICAgIGNvbnN0IGN1cnJlbnRGaWVsZFNldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZpZWxkLXNldD1cIiR7Zm9ybVN0YXRlLmN1cnJlbnRGaWVsZFNldH1cIl1gKTtcbiAgICBjdXJyZW50RmllbGRTZXQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZm9ybVN0YXRlLmN1cnJlbnRGaWVsZFNldCArPSAxO1xuICB9IGVsc2UgaWYgKHByZXZpb3VzQnV0dG9uQ2xpY2tlZCkge1xuICAgIGNvbnN0IGN1cnJlbnRGaWVsZFNldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZpZWxkLXNldD1cIiR7Zm9ybVN0YXRlLmN1cnJlbnRGaWVsZFNldH1cIl1gKVxuICAgIGN1cnJlbnRGaWVsZFNldC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBmb3JtU3RhdGUuY3VycmVudEZpZWxkU2V0IC09IDE7XG4gIH1cblxuICBpZiAoZm9ybVN0YXRlLmN1cnJlbnRGaWVsZFNldCA9PT0gMSkge1xuICAgIHByZXZpb3VzQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBwcmV2aW91c0J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGZvcm1TdGF0ZS5jdXJyZW50RmllbGRTZXQgPT09IDMpIHtcbiAgICBuZXh0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBuZXh0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBzdGVwTnVtYmVyLnRleHRDb250ZW50ID0gYFN0ZXAgJHtmb3JtU3RhdGUuY3VycmVudEZpZWxkU2V0fWA7XG5cbiAgY29uc3QgbmV3Q3VycmVudEZpZWxkU2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZmllbGQtc2V0PVwiJHtmb3JtU3RhdGUuY3VycmVudEZpZWxkU2V0fVwiXWApO1xuICBuZXdDdXJyZW50RmllbGRTZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7XG4gIHN0YXJ0VGhlUHJvY2Vzc0RpYWxvZy5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zaW5nJyk7XG4gIHN0YXJ0VGhlUHJvY2Vzc0RpYWxvZy5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBjbG9zZU1vZGFsKTtcbiAgc3RhcnRUaGVQcm9jZXNzRGlhbG9nLmNsb3NlKCk7XG5cbiAgdG9nZ2xlRGlhbG9nVGV4dEFuaW1hdGlvbkNsYXNzKCk7XG5cbiAgY2xvc2VEaWFsb2dCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbml0aWF0ZU1vZGFsQ2xvc2UpO1xuICByZXNldERpYWxvZygpO1xufVxuXG5mdW5jdGlvbiBpbml0aWF0ZU1vZGFsQ2xvc2UoKSB7XG4gIHN0YXJ0VGhlUHJvY2Vzc0RpYWxvZy5jbGFzc0xpc3QuYWRkKCdjbG9zaW5nJyk7XG4gIHN0YXJ0VGhlUHJvY2Vzc0RpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBjbG9zZU1vZGFsKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlRGlhbG9nVGV4dEFuaW1hdGlvbkNsYXNzKCkge1xuICBjb25zdCBkaWFsb2dTcGxpdFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZGlhbG9nLWhlYWRpbmcgLmxldHRlcicpO1xuXG4gIGlmIChkaWFsb2dTcGxpdFRleHRbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhbmltYXRlLWxldHRlcicpKSB7XG4gICAgZGlhbG9nU3BsaXRUZXh0LmZvckVhY2gobGV0dGVyID0+IHtcbiAgICAgIGxldHRlci5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLWxldHRlcicpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGRpYWxvZ1NwbGl0VGV4dC5mb3JFYWNoKChsZXR0ZXIsIGluZGV4KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbGV0dGVyLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtbGV0dGVyJyk7XG4gICAgICB9LCAxMjMgKiAoaW5kZXggKyAxKSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvd01vZGFsKCkge1xuICBzdGFydFRoZVByb2Nlc3NEaWFsb2cuc2hvd01vZGFsKCk7XG5cbiAgY29uc3QgbmFtZUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKTtcbiAgaWYgKG5hbWVGaWVsZCkgbmFtZUZpZWxkLmZvY3VzKCk7XG5cbiAgdG9nZ2xlRGlhbG9nVGV4dEFuaW1hdGlvbkNsYXNzKCk7XG5cbiAgY2xvc2VEaWFsb2dCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbml0aWF0ZU1vZGFsQ2xvc2UpO1xuICBkaWFsb2dCdXR0b25Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVEaWFsb2dCdXR0b25zKTtcbn1cblxuY29uc3Qgc3RhcnRUaGVQcm9jZXNzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXRoZS1wcm9jZXNzLWJ1dHRvbicpO1xuc3RhcnRUaGVQcm9jZXNzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd01vZGFsKTtcblxuLy8gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyA/IGhhbmRsZVNlbGVjdFBsYWNlaG9sZGVyLmpzXG5cbmZ1bmN0aW9uIGhhbmRsZVNlbGVjdFBsYWNlaG9sZGVyKGUpIHtcbiAgY29uc3Qgc2VsZWN0ID0gZS50YXJnZXQ7XG4gIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbc2VsZWN0LnNlbGVjdGVkSW5kZXhdO1xuXG4gIGlmIChzZWxlY3RlZE9wdGlvbi5kaXNhYmxlZCA9PT0gdHJ1ZSB8fCBzZWxlY3RlZE9wdGlvbi52YWx1ZSA9PT0gJycpIHJldHVybjtcblxuICBzZWxlY3QuY2xhc3NMaXN0LmFkZCgndmFsaWQnKTtcblxufVxuXG5jb25zdCBzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VsZWN0Jyk7XG5zZWxlY3RzLmZvckVhY2goc2VsZWN0ID0+IHtcbiAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZVNlbGVjdFBsYWNlaG9sZGVyKTtcbn0pO1xuXG4vLyA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vID8gaGFuZGxlLW5hdi1wb3N0LWNsaWNrLmpzXG5mdW5jdGlvbiBoYW5kbGVOYXZQb3N0Q2xpY2soKSB7XG4gIGNvbnN0IG5hdlRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtdG9nZ2xlLWJ1dHRvbicpO1xuICBuYXZUb2dnbGVCdXR0b24uY2xpY2soKTtcbn1cblxuLy8gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyA/IHNwbGl0LXRoZS1wcm9jZXNzLWhlYWRpbmctdGV4dC5qc1xuXG5pbXBvcnQgeyBjcmVhdGVTcGxpdFRleHRGcmFnbWVudCB9IGZyb20gJy4vc3BlY2lhbC1lZmZlY3RzL3NwbGl0LXRleHQuanMnO1xuXG5mdW5jdGlvbiBzcGxpdFRoZVByb2Nlc3NIZWFkaW5nVGV4dCgpIHtcbiAgY29uc3QgZGlhbG9nSGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFsb2ctaGVhZGluZycpO1xuICBjb25zdCBkaWFsb2dTcGxpdFRleHQgPSBjcmVhdGVTcGxpdFRleHRGcmFnbWVudChkaWFsb2dIZWFkaW5nLCAnc3BsaXQtdGV4dCcpO1xuXG4gIGRpYWxvZ0hlYWRpbmcudGV4dENvbnRlbnQgPSAnJztcblxuICBkaWFsb2dIZWFkaW5nLmFwcGVuZENoaWxkKGRpYWxvZ1NwbGl0VGV4dCk7XG59XG5zcGxpdFRoZVByb2Nlc3NIZWFkaW5nVGV4dCgpO1xuXG4vLyA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vID8gaGFuZGxlLXNlY3Rpb24taW50ZXJzZWN0aW9uLmpzXG5cbmxldCBzZWN0aW9uT3B0aW9ucyA9IHtcbiAgdGhyZXNob2xkOiAwLjQ1LFxuICAvLyByb290OiAoVklFV1BPUlQgYnkgZGVmYXVsdC4gTk9UIHJvb3QgZWxlbWVudCksIC8vID8gZGVmYXVsdCBpcyB0aGUgdmlld3BvcnRcblxuXG4gIC8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gPiBFeGFtcGxlczpcblxuICAvLyDwn5KtIEJlc3QgZm9yIGFuaW1hdGluZyBlbGVtZW50cyBpbnRvIHZpZXcgb3IgaWYgaXRzIGNydWNpYWwgdGhhdCBhbiBlbGVtZW50IGlzIG9ubHkgdmlzaWJsZSBpZiBpdCBpcyBmdWxseSBpbiB2aWV3IChyZWxhdGl2ZSB0byB0aGUgcm9vdCnigKYgdGhyZXNob2xkIG9mIDEuMCBlbmFibGVzIHRoYXQuIFBlcmhhcHMgdGhlIGNvbnRlbnQgbmVlZHMgdG8gbWVldCBzdWNoIGEgY3JpdGVyYSBiZWZvcmUgYW55IG90aGVyIGFjdGlvbiBjYW4gdGFrZSBwbGFjZS4gXG4gIC8vIPCfkq0gQ2FuIGJlIHVzZWQgV0lUSCByb290TWFyZ2luIHRvIGRlbGF5IHRoZSBhbmltYXRpb24uXG4gIC8vIPCfkq0gWW91IG1pZ2h0IHdhbnQgdG8ga25vdyBleGFjdGx5IHdoZW4gYW4gZWxlbWVudCBpcyBmdWxseSB2aXNpYmxlIHZlcnN1cyBwYXJ0aWFsbHkgZm9yIGFuYWx5dGljYWwgcHVycG9zZXMuIFVzaW5nIGFuIGFycmF5IG9mIHRocmVzaG9sZHMgbGlrZSBbMCwgMC41LCAxXSBsZXRzIHlvdSB0cmlnZ2VyIHRoZSBjYWxsYmFjayBhdCBubyB2aXNpYmlsaXR5ICgwKSwgaGFsZiB2aXNpYmlsaXR5ICgwLjUpLCBhbmQgZnVsbCB2aXNpYmlsaXR5ICgxKS5cblxuICAvLyAqIHRocmVzaG9sZDogMC41LFxuICAvLyA/IHdoZW4gNTAlIG9mIHRoZSBlbGVtZW50IGlzIGluIHZpZXcsIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZFxuXG4gIC8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyDwn5KtIEJlc3QgZm9yIHByZS1sb2FkaW5nIGNvbnRlbnQsbGF6eSBsb2FkaW5nIGltYWdlcyBvciBhdm9pZGluZyBhYnJ1cHQgdHJhbnNpdGlvbnNcbiAgLy8g8J+SrSBDYW4gYmUgdXNlZCBXSVRIIHRocmVzaG9sZCB0byBsb2FkIGZpcnN0IGxvYWQgdGhlIGNvbnRlbnQgd2l0aCByb290TWFyZ2luLCBhbmQgaGFuZGxpbmdcbiAgLy8g8J+SrSBpdHMgYW5pbWF0aW9uIHdpdGggdGhyZXNob2xkLlxuXG4gIC8vICogcm9vdE1hcmdpbjogJy0xMDBweCcsXG4gIC8vID8gd2UgYXJlIHN1YnRyYWN0aW5nIDEwMHB4IGZyb20gdGhlIHZpZXdwb3J0XG4gIC8vID8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgMTAwcHggZnJvbSB0aGUgdmlld3BvcnRcbiAgLy8gKiByb290TWFyZ2luOiBgJHtwb3NpdGl2ZU51bWJlcn1weGAsXG4gIC8vID8gd2UgYXJlIGFkZGluZyBwb3NpdGl2ZU51bWJlciB0byB0aGUgdmlld3BvcnRcbiAgLy8gPyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBwb3NpdGl2ZU51bWJlciBmcm9tIHRoZSB2aWV3cG9ydFxuICAvLyA/IHVzZWZ1bCBmb3IgbGF6eSBsb2FkaW5nIGltYWdlc1xuICAvLyA/IFwid2hlbiBvdXIgaW1hZ2UgaXMgMjUwcHggYXdheSBmcm9tIHRoZSB2aWV3cG9ydCwgbG9hZCB0aGUgaW1hZ2VcIlxuICAvLyA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gKiByb290OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1jb250YWluZXInKSxcbiAgLy8gPyBwYXJlbnQgZWxlbWVudCBvZiB0aGUgZWxlbWVudCB3ZSBhcmUgb2JzZXJ2aW5nICh0aGUgZWxlbWVudCB3ZSBhcmUgb2JzZXJ2aW5nIGlzIHRoZSBjaGlsZClcbiAgLy8gPyB3ZSBhcmUgb2JzZXJ2aW5nIHRoZSBjaGlsZCBlbGVtZW50IGluIHJlbGF0aW9uIHRvIHRoZSBwYXJlbnQgZWxlbWVudFxuICAvLyA/IFRoZSBkZWZhdWx0IGlzIHRoZSB2aWV3cG9ydCAoRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KVxufTtcblxuZnVuY3Rpb24gdG9nZ2xlU2VjdGlvbkludGVyc2VjdGluZ0NsYXNzKGVudHJpZXMpIHtcbiAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdpbnRlcnNlY3RpbmcnKTtcbiAgICAgIC8vID8gb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdpbnRlcnNlY3RpbmcnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5sZXQgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodG9nZ2xlU2VjdGlvbkludGVyc2VjdGluZ0NsYXNzLCBzZWN0aW9uT3B0aW9ucyk7XG5cbmNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbicpO1xuXG5lbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xufSk7XG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gPyBoYW5kbGUtcGFyYWdyYXBoLWludGVyc2VjdGlvbi5qcyBcblxubGV0IHBhcmFnYXBoT3B0aW9ucyA9IHtcbiAgdGhyZXNob2xkOiAwLjQ1LFxufTtcblxuZnVuY3Rpb24gdG9nZ2xlUGFyYWdyYXBoSW50ZXJzZWN0aW5nQ2xhc3MoZW50cmllcykge1xuICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ludGVyc2VjdGluZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaW50ZXJzZWN0aW5nJyk7XG4gICAgfVxuICB9KTtcbn1cblxubGV0IHBhcmFncmFwaE9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRvZ2dsZVBhcmFncmFwaEludGVyc2VjdGluZ0NsYXNzLCBwYXJhZ2FwaE9wdGlvbnMpO1xuXG5jb25zdCBwYXJhZ3JhcGhzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncCcpO1xuXG5wYXJhZ3JhcGhzLmZvckVhY2goUGFyYWdyYXBoID0+IHtcbiAgcGFyYWdyYXBoT2JzZXJ2ZXIub2JzZXJ2ZShQYXJhZ3JhcGgpO1xufSk7XG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gPyBoYW5kbGUtc3RhcnQtcHJvY2Vzcy1pbnRlcnNlY3Rpb24uanNcblxubGV0IHN0YXJ0UHJvY2Vzc09wdGlvbnMgPSB7XG4gIHRocmVzaG9sZDogMC41LFxufTtcblxuZnVuY3Rpb24gdG9nZ2xlU3RhcnRQcm9jZXNzSW50ZXJzZWN0aW5nQ2xhc3MoZW50cmllcykge1xuICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ludGVyc2VjdGluZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaW50ZXJzZWN0aW5nJyk7XG4gICAgfVxuICB9KTtcbn1cblxubGV0IHN0YXJ0UHJvY2Vzc0J1dHRvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRvZ2dsZVN0YXJ0UHJvY2Vzc0ludGVyc2VjdGluZ0NsYXNzLCBzdGFydFByb2Nlc3NPcHRpb25zKTtcblxuY29uc3Qgc3RhcnRQcm9jZXNzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXRoZS1wcm9jZXNzLWJ1dHRvbicpO1xuXG5zdGFydFByb2Nlc3NCdXR0b25PYnNlcnZlci5vYnNlcnZlKHN0YXJ0UHJvY2Vzc0J1dHRvbik7XG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gPyBoYW5kbGUtc2NyZWVuLXNpemUtY2hhbmdlLmpzXG5cbmZ1bmN0aW9uIGhhbmRsZU5hdkxpbmtCZWhhdmlvcigpIHtcbiAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHJvb3Qub2Zmc2V0V2lkdGg7XG5cbiAgY29uc3QgbmF2VG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi10b2dnbGUtYnV0dG9uJyk7XG5cbiAgaWYgKCFuYXZUb2dnbGVCdXR0b24pIHJldHVybjtcblxuICBpZiAodmlld3BvcnRXaWR0aCA+IDEwMjQpIHtcbiAgICBpZiAobmF2VG9nZ2xlQnV0dG9uLmFyaWFFeHBhbmRlZCA9PT0gJ3RydWUnKSBuYXZUb2dnbGVCdXR0b24uY2xpY2soKTtcbiAgICBuYXZUb2dnbGVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXZUb2dnbGVCdXR0b24pO1xuICAgIG5hdkxpbmtzLmZvckVhY2gobmF2TGluayA9PiBuYXZMaW5rLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2UG9zdENsaWNrKSk7XG4gIH0gZWxzZSB7XG4gICAgbmF2VG9nZ2xlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2VG9nZ2xlQnV0dG9uKTtcbiAgICBuYXZMaW5rcy5mb3JFYWNoKG5hdkxpbmsgPT4gbmF2TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdlBvc3RDbGljaykpO1xuICB9XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgaGFuZGxlTmF2TGlua0JlaGF2aW9yKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVOYXZMaW5rQmVoYXZpb3IpO1xuXG4vLyA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vID8gdGhlLXByb2Nlc3MtZm9ybS12YWxpZGF0aW9uLmpzXG5cbi8vIGZ1bmN0aW9uIGFkZFZhbGlkYXRpb25MaXN0ZW5lcihlbGVtZW50KSB7XG4vLyAgIGNvbnN0IGV2ZW50VHlwZSA9IGVsZW1lbnQudGFnTmFtZSA9PT0gJ1NFTEVDVCcgPyAnY2hhbmdlJyA6ICdpbnB1dCc7XG5cbi8vICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZnVuY3Rpb24gKCkge1xuLy8gICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKGVsZW1lbnQucGF0dGVybik7XG5cbi8vICAgICBpZiAocGF0dGVybikge1xuLy8gICAgICAgY29uc3QgaXNWYWxpZCA9IHBhdHRlcm4udGVzdChlbGVtZW50LnZhbHVlLnRyaW0oKSk7XG4vLyAgICAgICBjb25zb2xlLmxvZyhpc1ZhbGlkKTsgLy8gRm9yIGRlYnVnZ2luZ1xuXG4vLyAgICAgICAvLyBFeGFtcGxlIG9mIHVzZXItdmlzaWJsZSBmZWVkYmFja1xuLy8gICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4vLyAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaXMtaW52YWxpZCcpOyAvLyBBZGQgQ1NTIGNsYXNzIGZvciBzdHlsaW5nXG4vLyAgICAgICAgIC8vIE9wdGlvbmFsbHksIHJlbW92ZSBjbGFzcyB3aGVuIHZhbGlkXG4vLyAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWludmFsaWQnKTtcbi8vICAgICAgIH1cbi8vICAgICB9XG4vLyAgIH0pO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiB2YWxpZGF0ZUZpZWxkU2V0KGZpZWxkU2V0KSB7XG4vLyAgIGNvbnN0IGVsZW1lbnRzID0gZmllbGRTZXQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKTtcbi8vICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbi8vICAgICBhZGRWYWxpZGF0aW9uTGlzdGVuZXIoZWxlbWVudCk7XG4vLyAgIH0pO1xuLy8gfVxuXG4vLyBjb25zdCBmaWVsZFNldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmaWVsZHNldCcpO1xuLy8gZmllbGRTZXRzLmZvckVhY2goZmllbGRTZXQgPT4ge1xuLy8gICB2YWxpZGF0ZUZpZWxkU2V0KGZpZWxkU2V0KTtcbi8vIH0pO1xuXG4iLCIvLyAqIEFTU0VUU1xuaW1wb3J0IGN5Y2xvbmVDIGZyb20gJy4uLy4uL2Fzc2V0cy9tZWRpYS9sb2dvcy9pbWFnZXMvYW5pbWF0ZWQvMTIzcHgvMi1jLXdoaXRlLW1hdHRlLndlYnAnXG5cbi8vICogREFUQVxuaW1wb3J0IG5hdkxpc3REYXRhIGZyb20gJy4uLy4uL2pzb24vbmF2LWxpbmtzLmpzb24nIHdpdGggeyB0eXBlOiAnanNvbicgfTtcblxuLy8gKiBNQVJLVVAgVVRJVExJVElFU1xuaW1wb3J0IHsgY3JlYXRlTmF2IH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL21hcmtkb3duL2NyZWF0ZS1uYXYuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW1hZ2UgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvbWFya2Rvd24vY3JlYXRlLWltYWdlLmpzJztcbmltcG9ydCB7IGNyZWF0ZUhhbWJ1cmdlciB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9tYXJrZG93bi9jcmVhdGUtaGFtYnVyZ2VyL2NyZWF0ZS1oYW1idXJnZXIuanMnXG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBFbGVtZW50IElkZW50aWZpZXJzOlxuICogQGxvZ28gPGltZz4gLT4gI2hlYWRlci1sb2dvLmNvbXBhbnktbG9nb1xuICogQGxvZ29UZXh0IDxoMT4gLT4gI2hlYWRlci1sb2dvLXRleHQgLmNvbXBhbnktbmFtZVxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZU5hdkhlYWRpbmcoKSB7XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICBoZWFkaW5nLnNldEF0dHJpYnV0ZSgnaWQnLCAnbmF2LWhlYWRpbmcnKTtcbiAgaGVhZGluZy50ZXh0Q29udGVudCA9ICdNYWluIE1lbnUnO1xuXG4gIHJldHVybiBoZWFkaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGVhZGVyKCkge1xuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcblxuICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRlbnRDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjb250ZW50LWNvbnRhaW5lcicpO1xuXG4gIC8vIHNyYywgaWQsIGNsYXNzTmFtZXMsIGFsdCwgYXJpYUxhYmVsXG4gIGNvbnN0IGxvZ28gPSBjcmVhdGVJbWFnZShcbiAgICBjeWNsb25lQyxcbiAgICAnaGVhZGVyLWxvZ28nLFxuICAgICdjb21wYW55LWxvZ28nLFxuICAgICdDeWNsb25lIFN0dWRpb3MgTG9nbycsXG4gICAgJ0N5Y2xvbmUgU3R1ZGlvcyBMb2dvJyxcbiAgICBbICcxMjNweCcsICcxMjNweCcgXVxuICApO1xuXG4gIGNvbnN0IGxvZ29MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBsb2dvTGluay5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2hlYWRlci1sb2dvLWxpbmsnKTtcbiAgbG9nb0xpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgJy8nKTtcbiAgbG9nb0xpbmsuYXBwZW5kKGxvZ28pO1xuXG4gIGNvbnN0IGxvZ29UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDQnKTtcbiAgbG9nb1RleHQuc2V0QXR0cmlidXRlKCdpZCcsICdoZWFkZXItbG9nby10ZXh0Jyk7XG4gIGxvZ29UZXh0LmNsYXNzTGlzdC5hZGQoJ2NvbXBhbnktbmFtZScpO1xuICBsb2dvVGV4dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ29sbGVjdGl2ZSBDbG90aCcpO1xuICBsb2dvVGV4dC50ZXh0Q29udGVudCA9ICdjb2xsZWN0aXZlIGNsb3RoJztcblxuICBjb25zdCBoZWFkZXJMb2dvQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IFxuICBoZWFkZXJMb2dvQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnaGVhZGVyLWxvZ28tY29udGFpbmVyJyk7XG4gIGhlYWRlckxvZ29Db250YWluZXIuYXBwZW5kKGxvZ29MaW5rLCBsb2dvVGV4dCk7XG5cbiAgY29uc3QgaGFtYnVyZ2VyID0gY3JlYXRlSGFtYnVyZ2VyKCduYXYnKTtcblxuICBjb25zdCBuYXYgPSBjcmVhdGVOYXYobmF2TGlzdERhdGEpO1xuICBuYXYucHJlcGVuZChjcmVhdGVOYXZIZWFkaW5nKCkpO1xuXG4gIGNvbnRlbnRDb250YWluZXIuYXBwZW5kKFxuICAgIGhlYWRlckxvZ29Db250YWluZXIsXG4gICAgaGFtYnVyZ2VyLFxuICAgIG5hdlxuICApO1xuXG4gIGhlYWRlci5hcHBlbmQoY29udGVudENvbnRhaW5lcik7XG5cbiAgcmV0dXJuIGhlYWRlclxufVxuXG5cbiIsImltcG9ydCAnLi9oYW1idXJnZXIuc2Nzcyc7XG5cbi8vICogVVRJTElUSUVTXG5pbXBvcnQgeyBzZXRBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbGl0aWVzL3NldC1hdHRyaWJ1dGVzLmpzJztcblxuLy8gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gY3JlYXRlSGFtYnVyZ2VyKGFyaWFDb250cm9sc0lEKSB7XG4gIGNvbnN0IG5hdlRvZ2dsZUJhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmF2VG9nZ2xlQmFycy5jbGFzc0xpc3QuYWRkKCduYXYtdG9nZ2xlLWJhcnMnKTtcblxuICBjb25zdCBuYXZUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgbmF2VG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25hdi10b2dnbGUtYnV0dG9uJyk7XG4gIHNldEF0dHJpYnV0ZXMobmF2VG9nZ2xlQnV0dG9uLCB7XG4gICAgJ2FyaWEtbGFiZWwnOiAnT3BlbiBOYXZpZ2F0aW9uIE1lbnUnLFxuICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsXG4gICAgJ2FyaWEtY29udHJvbHMnOiBhcmlhQ29udHJvbHNJRCxcbiAgfSk7XG4gIG5hdlRvZ2dsZUJ1dHRvbi5hcHBlbmRDaGlsZChuYXZUb2dnbGVCYXJzKTtcblxuICByZXR1cm4gbmF2VG9nZ2xlQnV0dG9uO1xufVxuXG5leHBvcnQgeyBjcmVhdGVIYW1idXJnZXIgfTtcbiIsIi8qKlxuICogQ3JlYXRlcyB0aGUgbmF2aWdhdGlvbiBlbGVtZW50LlxuICogQHBhcmFtIHthcnJheX0ganNvbkFycmF5IEFuIGFycmF5IG9mIGFub255bW91cyBvYmplY3RzIHdpdGggc3RydWN0dXJlOiBcbiAqIHt0ZXh0Q29udGVudDogVEVYVF9DT05URU5UICxocmVmOiBIUkVGfVxuICogQHJldHVybnMge0VsZW1lbnR9IFRoZSBuYXZpZ2F0aW9uIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOYXYoanNvbkFycmF5KSB7XG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ25hdicpO1xuICBcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICB1bC5jbGFzc0xpc3QuYWRkKCduYXYtdWwnKTtcblxuICBqc29uQXJyYXkuZm9yRWFjaChsaW5rID0+IHtcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbGkuY2xhc3NMaXN0LmFkZCgnbmF2LWl0ZW0nKTtcblxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5jbGFzc0xpc3QuYWRkKCduYXYtbGluaycpO1xuXG4gICAgYS50ZXh0Q29udGVudCA9IGxpbmsudGV4dENvbnRlbnQ7XG4gICAgYS5ocmVmID0gbGluay5ocmVmO1xuXG4gICAgbGkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICB9KTtcblxuICBuYXYuYXBwZW5kQ2hpbGQodWwpO1xuXG4gIHJldHVybiBuYXY7XG59XG4iLCIvLyBUT0RPOiBpbXBvcnQgc2hpcnQgaW1hZ2VcbmltcG9ydCB7IGNyZWF0ZUltYWdlIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL21hcmtkb3duL2NyZWF0ZS1pbWFnZSc7XG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBFbGVtZW50IElkZW50aWZpZXJzOlxuICAqIEBjYWxsVG9BY3Rpb25MZWZ0IDxkaXY+IC0+ICNjYWxsLXRvLWFjdGlvbi1sZWZ0XG4gICogQGhlYWRpbmcgPGgxPiAtPiAjY2FsbC10by1hY3Rpb24taGVhZGluZ1xuICAqIEBhaVRleHROb2RlICA8c3Bhbj4gLT4gLmNhbGwtdG8tYWN0aW9uLWFpXG4gICogQHN1YmhlYWRpbmcgPGgzPiAtPiAjY2FsbC10by1hY3Rpb24tc3ViaGVhZGluZ1xuICAqIEB0ZXh0Q29udGVudCA8cD4gLT4gLmFydGljbGUtdGV4dC1jb250ZW50XG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlQ2FsbFRvQWN0aW9uTGVmdCgpIHtcbiAgY29uc3QgY2FsbFRvQWN0aW9uTGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjYWxsVG9BY3Rpb25MZWZ0LnNldEF0dHJpYnV0ZSgnaWQnLCAnY2FsbC10by1hY3Rpb24tbGVmdCcpO1xuXG4gIGNvbnN0IHNwZWNpYWxTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBzcGVjaWFsU3Bhbi5jbGFzc0xpc3QuYWRkKCdjbGlwcGVkLXRleHQnKTtcbiAgc3BlY2lhbFNwYW4udGV4dENvbnRlbnQgPSAnc2hvdyBzb2xpZGFyaXR5IGluIHN0eWxlJyArICcgJztcblxuICBjb25zdCBoZWFkaW5nRW1vamlTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOyAgXG4gIGhlYWRpbmdFbW9qaVNwYW4uY2xhc3NMaXN0LmFkZCgnZW1vamknLCAnaGVhZGluZy1lbW9qaScpO1xuICBoZWFkaW5nRW1vamlTcGFuLnRleHRDb250ZW50ID0gJ/CfmI4nO1xuICBcbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIGhlYWRpbmcuc2V0QXR0cmlidXRlKCdpZCcsICdjYWxsLXRvLWFjdGlvbi1oZWFkaW5nJyk7XG4gIGhlYWRpbmcuYXBwZW5kKHNwZWNpYWxTcGFuLCBoZWFkaW5nRW1vamlTcGFuKTtcblxuICBjb25zdCBsZWZ0VGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnaW1wbGVtZW50aW5nJyArICcgJyk7XG4gIGNvbnN0IGFpVGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIGFpVGV4dE5vZGUudGV4dENvbnRlbnQgPSAnQUknO1xuICBhaVRleHROb2RlLmNsYXNzTGlzdC5hZGQoJ2NhbGwtdG8tYWN0aW9uLWFpJyk7XG4gIGNvbnN0IHJpZ2h0VGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcgKyAnaW4gY3JlYXRpdmUgZGVzaWduLicpO1xuXG4gIGNvbnN0IHN1YmhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICBzdWJoZWFkaW5nLnNldEF0dHJpYnV0ZSgnaWQnLCAnY2FsbC10by1hY3Rpb24tc3ViaGVhZGluZycpO1xuICBzdWJoZWFkaW5nLmFwcGVuZChsZWZ0VGV4dE5vZGUsIGFpVGV4dE5vZGUsIHJpZ2h0VGV4dE5vZGUpO1xuXG4gIGNvbnN0IHBhcmFncmFwaE9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgcGFyYWdyYXBoT25lLmNsYXNzTGlzdC5hZGQoJ2FydGljbGUtdGV4dC1jb250ZW50Jyk7XG4gIHBhcmFncmFwaE9uZS50ZXh0Q29udGVudCA9XG4gICAgJ091ciB0ZWFtLCBhIGJsZW5kIG9mIGRlc2lnbmVycywgYXBwYXJlbCBtYW51ZmFjdHVyZXJzLCBhbmQgYnVzaW5lc3MgZXhwZXJ0cywgc3BlY2lhbGl6ZXMgaW4gZ2VuZXJhdGluZyBiZXNwb2tlIGFwcGFyZWwgdGhhdCByZWZsZWN0cyB0aGUgZGlzdGluY3QgaWRlbnRpdHkgb2YgZWFjaCBjb2xsZWN0aXZlIHdlIHdvcmsgd2l0aC4nO1xuICBcbiAgY29uc3QgcGFyYWdyYXBoVHdvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOyBcbiAgcGFyYWdyYXBoVHdvLmNsYXNzTGlzdC5hZGQoJ2FydGljbGUtdGV4dC1jb250ZW50Jyk7XG4gIHBhcmFncmFwaFR3by50ZXh0Q29udGVudCA9ICdXZSBvZmZlciBhIGNvbXByZWhlbnNpdmUgc2VydmljZSB0aGF0IHNlYW1sZXNzbHkgaW50ZWdyYXRlcyBkZXNpZ24sIHByb2R1Y3Rpb24sIGFuZCBkZWxpdmVyeSwgZW5zdXJpbmcgYSB0YWlsb3JlZCBleHBlcmllbmNlIGZyb20gc3RhcnQgdG8gZmluaXNoLic7XG5cbiAgY29uc3QgY2FsbFRvQWN0aW9uQXJ0aWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2FydGljbGUnKTtcbiAgY2FsbFRvQWN0aW9uQXJ0aWNsZS5jbGFzc0xpc3QuYWRkKCdjYWxsLXRvLWFjdGlvbi10ZXh0LWNvbnRlbnQnKTtcbiAgY2FsbFRvQWN0aW9uQXJ0aWNsZS5hcHBlbmQoaGVhZGluZywgc3ViaGVhZGluZywgcGFyYWdyYXBoT25lLCBwYXJhZ3JhcGhUd28pO1xuXG4gIGNhbGxUb0FjdGlvbkxlZnQuYXBwZW5kKGNhbGxUb0FjdGlvbkFydGljbGUpO1xuXG4gIHJldHVybiBjYWxsVG9BY3Rpb25MZWZ0O1xufVxuXG4vLyA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogRWxlbWVudCBJZGVudGlmaWVyczpcbiAqIEBjYWxsVG9BY3Rpb25SaWdodCA8ZGl2PiAtPiAjY2FsbC10by1hY3Rpb24tcmlnaHRcbiAqIEBjYWxsVG9BY3Rpb25JbWFnZSA8aW1nPiAtPiAjY2FsbC10by1hY3Rpb24taW1hZ2VcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVDYWxsVG9BY3Rpb25SaWdodCgpIHtcbiAgY29uc3QgY2FsbFRvQWN0aW9uUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY2FsbFRvQWN0aW9uUmlnaHQuc2V0QXR0cmlidXRlKCdpZCcsICdjYWxsLXRvLWFjdGlvbi1yaWdodCcpO1xuXG4gIC8vIHNyYywgaWQsIGNsYXNzTmFtZXMsIGFsdCwgYXJpYUxhYmVsO1xuICBjb25zdCBjYWxsVG9BY3Rpb25JbWFnZSA9IGNyZWF0ZUltYWdlKFxuICAgICdodHRwczovL2NvbGxlY3RpdmUtY2xvdGguczMudXMtZWFzdC0yLmFtYXpvbmF3cy5jb20vc3RhdGljLWFzc2V0cy9wcm9kdWN0X2ltYWdlcy9hbmltYXRlZC90ZWFtLWNhcHN1bGUtbGFyZ2UtYW5pbWF0ZWQud2VicCcsXG4gICAgJ2NhbGwtdG8tYWN0aW9uLXByb2R1Y3QtaW1hZ2UnLFxuICAgICcnLFxuICAgICczLURpbWVuc2lvbmFsIFByb2R1Y3QgU2hvd2Nhc2UnLFxuICAgICczLURpbWVuc2lvbmFsIFByb2R1Y3QgU2hvd2Nhc2UnLFxuICAgIFsnODAwJywgJzgwMCddXG4gICk7XG5cbiAgY2FsbFRvQWN0aW9uUmlnaHQuYXBwZW5kKGNhbGxUb0FjdGlvbkltYWdlKTtcblxuICByZXR1cm4gY2FsbFRvQWN0aW9uUmlnaHQ7XG59XG5cbi8vID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBFbGVtZW50IElkZW50aWZpZXJzOlxuICogQGNhbGxUb0FjdGlvblNlY3Rpb24gPHNlY3Rpb24+IC0+ICNjYWxsLXRvLWFjdGlvblxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbGxUb0FjdGlvblNlY3Rpb24oKSB7XG4gIGNvbnN0IGNhbGxUb0FjdGlvblNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gIGNhbGxUb0FjdGlvblNlY3Rpb24uc2V0QXR0cmlidXRlKCdpZCcsICdjYWxsLXRvLWFjdGlvbicpO1xuXG4gIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGVudENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjb250ZW50LWNvbnRhaW5lcicpO1xuXG4gIGNvbnRlbnRDb250YWluZXIuYXBwZW5kKFxuICAgIGNyZWF0ZUNhbGxUb0FjdGlvbkxlZnQoKSxcbiAgICBjcmVhdGVDYWxsVG9BY3Rpb25SaWdodCgpXG4gICk7XG5cbiAgY2FsbFRvQWN0aW9uU2VjdGlvbi5hcHBlbmQoY29udGVudENvbnRhaW5lcik7XG5cbiAgcmV0dXJuIGNhbGxUb0FjdGlvblNlY3Rpb247XG59XG4iLCIvKipcbiAqIEVsZW1lbnQgSWRlbnRpZmllcnM6XG4gKiBAc2VjdGlvbiA8c2VjdGlvbj4gLT4gI2Nvbm5lY3Rpb25zXG4gKiBAaGVhZGluZyA8aDM+IC0+ICNjb25uZWN0aW9ucy1oZWFkaW5nXG4gKiBAbG9nb0NvbnRhaW5lciA8ZGl2PiAtPiAubG9nby1jb250YWluZXJcbiAqIEBsb2dvIDxpbWc+IC0+IC5jb25uZWN0aW9ucy1sb2dvXG4gKiBAbGluayA8YT4gLT4gLmNvbm5lY3Rpb25zLWxpbmtcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGlvbnNTZWN0aW9uKGNvbm5lY3Rpb25zSnNvbikge1xuICBjb25zdCBjb25uZWN0aW9uc1NlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gIGNvbm5lY3Rpb25zU2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2Nvbm5lY3Rpb25zJyk7XG5cbiAgY29uc3QgY29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250ZW50Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQtY29udGFpbmVyJyk7XG5cbiAgLy8gY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gIC8vIGhlYWRpbmcuc2V0QXR0cmlidXRlKCdpZCcsICdjb25uZWN0aW9ucy1oZWFkaW5nJyk7XG4gIC8vIGhlYWRpbmcudGV4dENvbnRlbnQgPSAnQ29ubmVjdGlvbnMnO1xuXG4gIGNvbnN0IGxvZ29Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbG9nb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdsb2dvLWNvbnRhaW5lcicpO1xuXG4gIGNvbm5lY3Rpb25zSnNvbi5mb3JFYWNoKChjb25uZWN0aW9uKSA9PiB7XG4gICAgY29uc3QgbG9nbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGxvZ28uY2xhc3NMaXN0LmFkZCgnY29ubmVjdGlvbi1sb2dvJyk7XG4gICAgbG9nby5zcmMgPSBjb25uZWN0aW9uLmxvZ287XG4gICAgbG9nby5hbHQgPSBjb25uZWN0aW9uLm5hbWU7XG5cbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgnY29ubmVjdGlvbnMtbGluaycpO1xuICAgIGxpbmsuaHJlZiA9IGNvbm5lY3Rpb24ubGluaztcbiAgICBsaW5rLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgIGxpbmsucmVsID0gJ25vb3BlbmVyIG5vcmVmZXJyZXInO1xuICAgIGxpbmsuYXBwZW5kKGxvZ28pO1xuXG4gICAgbG9nb0NvbnRhaW5lci5hcHBlbmQobGluayk7XG4gIH0pO1xuXG4gIGNvbnRlbnRDb250YWluZXIuYXBwZW5kKGxvZ29Db250YWluZXIpO1xuICAvLyBhZGQgaGVhZGluZz9cblxuICBjb25uZWN0aW9uc1NlY3Rpb24uYXBwZW5kKGNvbnRlbnRDb250YWluZXIpO1xuXG4gIHJldHVybiBjb25uZWN0aW9uc1NlY3Rpb247XG59XG4iLCIvLyAqIE1BUktVUCBVVElUTElUSUVTXG5pbXBvcnQgeyBjcmVhdGVDYXJvdXNlbCB9IGZyb20gXCIuLi8uLi91dGlsaXRpZXMvbWFya2Rvd24vY3JlYXRlLWNhcm91c2VsL2Nhcm91c2VsLW1hcmt1cFwiO1xuXG4vKipcbiAqIEVsZW1lbnQgSWRlbnRpZmllcnM6XG4gKiBAYXJ0aWNsZSA8YXJ0aWNsZT4gLT4gLndoby1hcmUtd2UtdGV4dC1jb250ZW50XG4gKiBAaGVhZGluZyA8aDM+IC0+ICN3aG8tYXJlLXdlLWhlYWRpbmdcbiAqIEBsb2dvIDxpbWc+IC0+ICNoZWFkaW5nLWxvZ28uY29tcGFueS1sb2dvXG4gKiBAbG9nb1RleHQgPGgxPiAtPiAjaGVhZGluZy1sb2dvLXRleHQgLmNvbXBhbnktbmFtZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXaG9BcmVXZVNlY3Rpb24oY2Fyb3VzZWxJbWFnZXMpIHtcbiAgY29uc3Qgd2hvQXJlV2VTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICB3aG9BcmVXZVNlY3Rpb24uc2V0QXR0cmlidXRlKCdpZCcsICd3aG8tYXJlLXdlJyk7XG5cbiAgY29uc3QgY29udGVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250ZW50Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnQtY29udGFpbmVyJyk7XG5cbiAgY29uc3QgY2Fyb3VzZWwgPSBjcmVhdGVDYXJvdXNlbChjYXJvdXNlbEltYWdlcyk7XG5cbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gIGhlYWRpbmcuc2V0QXR0cmlidXRlKCdpZCcsJ3doby1hcmUtd2UtaGVhZGluZycpO1xuICBoZWFkaW5nLnRleHRDb250ZW50ID0gJ1dobyBBcmUgV2U/JztcblxuICBjb25zdCBwYXJhZ3JhcGhPbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHBhcmFncmFwaE9uZS5jbGFzc0xpc3QuYWRkKCdhcnRpY2xlLXRleHQtY29udGVudCcpO1xuICBwYXJhZ3JhcGhPbmUudGV4dENvbnRlbnQgPSAnQ29uY2VpdmVkIHRvIGNyYWZ0IGN1c3RvbSBjb3V0dXJlIGZvciB5b3VyIGNvbGxlY3RpdmUsIG91ciBjb21wYW55IGNoYW1waW9ucyB0aGUgY3JlYXRpb24gb2YgY29oZXNpdmUsIGNhcHRpdmF0aW5nIGNsb3RoaW5nIHRoYXQgY2VsZWJyYXRlcyB5b3VyIHVuaXF1ZSBjYW1hcmFkZXJpZSBhbmQgY2hhcmFjdGVyLic7XG5cbiAgY29uc3QgcGFyYWdyYXBoVHdvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBwYXJhZ3JhcGhUd28uY2xhc3NMaXN0LmFkZCgnYXJ0aWNsZS10ZXh0LWNvbnRlbnQnKTtcbiAgcGFyYWdyYXBoVHdvLnRleHRDb250ZW50ID0gJ0Zyb20gY29tcGV0aXRpdmUgdGVhbXMgdG8gY29ycG9yYXRlIGNpcmNsZXMsIHdlIGNvbW1pdCB0byBjdXN0b21pemluZyBjaGljLCBjb21mb3J0YWJsZSBjb21wb3NpdGlvbnMuIFV0aWxpemluZyBjaG9pY2UgbWF0ZXJpYWxzIGFuZCBjdXR0aW5nLWVkZ2UgZGVzaWduIHRlY2huaXF1ZXMsIHdlIGNvbnZlcnQgeW91ciB2aXNpb24gaW50byBhIHdlYXJhYmxlIGNhbnZhcywgY2FwdHVyaW5nIHRoZSBlc3NlbmNlIG9mIHlvdXIgdW5pdHkuJztcblxuICBjb25zdCBwYXJhZ3JhcGhUaHJlZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgcGFyYWdyYXBoVGhyZWUuY2xhc3NMaXN0LmFkZCgnYXJ0aWNsZS10ZXh0LWNvbnRlbnQnKTtcblxuICBjb25zdCB3aG9BcmVXZUFydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJyk7XG4gIHdob0FyZVdlQXJ0aWNsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3doby1hcmUtd2UtdGV4dC1jb250ZW50Jyk7XG4gIHdob0FyZVdlQXJ0aWNsZS5hcHBlbmQoXG4gICAgaGVhZGluZyxcbiAgICBwYXJhZ3JhcGhPbmUsXG4gICAgcGFyYWdyYXBoVHdvXG4gICk7XG5cbiAgY29udGVudENvbnRhaW5lci5hcHBlbmQoXG4gICAgY2Fyb3VzZWwsXG4gICAgd2hvQXJlV2VBcnRpY2xlXG4gICk7XG5cbiAgd2hvQXJlV2VTZWN0aW9uLmFwcGVuZChjb250ZW50Q29udGFpbmVyKTtcblxuICByZXR1cm4gd2hvQXJlV2VTZWN0aW9uO1xufSIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIb3dEb2VzSXRXb3JrU2VjdGlvbihpbnN0cnVjdGlvbnNKc29uKSB7XG4gIGNvbnN0IGNyZWF0ZUhvd0RvZXNJdFdvcmtTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICBjcmVhdGVIb3dEb2VzSXRXb3JrU2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2hvdy1kb2VzLWl0LXdvcmsnKTtcblxuICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRlbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29udGVudC1jb250YWluZXInKTtcblxuICBjb25zdCBob3dEb2VzSXRXb3JrVGV4dENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhcnRpY2xlJyk7XG4gIGhvd0RvZXNJdFdvcmtUZXh0Q29udGVudC5jbGFzc0xpc3QuYWRkKCdob3ctZG9lcy1pdC13b3JrLXRleHQtY29udGVudCcpO1xuXG4gIGNvbnN0IGhvd0RvZXNJdFdvcmtIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgaG93RG9lc0l0V29ya0hlYWRpbmcuc2V0QXR0cmlidXRlKCdpZCcsICdob3ctZG9lcy1pdC13b3JrLWhlYWRpbmcnKTtcbiAgaG93RG9lc0l0V29ya0hlYWRpbmcudGV4dENvbnRlbnQgPSAnSG93IERvZXMgSXQgV29yaz8nO1xuXG4gIGNvbnRlbnRDb250YWluZXIuYXBwZW5kKGhvd0RvZXNJdFdvcmtIZWFkaW5nKTtcblxuICBjb25zdCBpbnN0cnVjdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaW5zdHJ1Y3Rpb25zQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnaW5zdHJ1Y3Rpb25zLWNvbnRhaW5lcicpO1xuXG4gIGluc3RydWN0aW9uc0pzb24uZm9yRWFjaCgoaW5zdHJ1Y3Rpb24sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25BcnRpY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXJ0aWNsZScpO1xuICAgIGluc3RydWN0aW9uQXJ0aWNsZS5jbGFzc0xpc3QuYWRkKCdpbnN0cnVjdGlvbi1hcnRpY2xlJyk7XG5cbiAgICBjb25zdCBzdGVwTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3RlcE51bWJlci5jbGFzc0xpc3QuYWRkKCdzdGVwLW51bWJlcicpO1xuICAgIHN0ZXBOdW1iZXIudGV4dENvbnRlbnQgPSBgMCR7aW5kZXggKyAxfSBgO1xuXG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0Jyk7XG4gICAgaW5zdHJ1Y3Rpb25UaXRsZS5jbGFzc0xpc3QuYWRkKCdpbnN0cnVjdGlvbi1udW1iZXInKTtcbiAgICBpbnN0cnVjdGlvblRpdGxlLnRleHRDb250ZW50ID0gaW5zdHJ1Y3Rpb24udGl0bGU7XG5cbiAgICBjb25zdCBpbnN0cnVjdGlvblRpdGxlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaW5zdHJ1Y3Rpb25UaXRsZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdpbnN0cnVjdGlvbi10aXRsZS1jb250YWluZXInKTtcbiAgICBpbnN0cnVjdGlvblRpdGxlQ29udGFpbmVyLmFwcGVuZChzdGVwTnVtYmVyLCBpbnN0cnVjdGlvblRpdGxlKTtcblxuICAgIGNvbnN0IHRleHRDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGV4dENvbnRlbnQuY2xhc3NMaXN0LmFkZCgnaW5zdHJ1Y3Rpb24tdGV4dC1jb250ZW50Jyk7XG4gICAgaW5zdHJ1Y3Rpb24udGV4dENvbnRlbnQuZm9yRWFjaCgocGFyYWdhcGgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHBhcmFncmFwaC5jbGFzc0xpc3QuYWRkKCdhcnRpY2xlLXRleHQtY29udGVudCcpO1xuICAgICAgcGFyYWdyYXBoLnRleHRDb250ZW50ID0gcGFyYWdhcGg7XG4gICAgICB0ZXh0Q29udGVudC5hcHBlbmRDaGlsZChwYXJhZ3JhcGgpO1xuICAgIH0pO1xuXG4gICAgaW5zdHJ1Y3Rpb25BcnRpY2xlLmFwcGVuZChpbnN0cnVjdGlvblRpdGxlQ29udGFpbmVyLCB0ZXh0Q29udGVudCk7XG5cbiAgICBpbnN0cnVjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5zdHJ1Y3Rpb25BcnRpY2xlKTtcblxuICB9KTtcbiAgXG4gIGhvd0RvZXNJdFdvcmtUZXh0Q29udGVudC5hcHBlbmRDaGlsZChpbnN0cnVjdGlvbnNDb250YWluZXIpO1xuICBjb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGhvd0RvZXNJdFdvcmtUZXh0Q29udGVudCk7XG5cbiAgY3JlYXRlSG93RG9lc0l0V29ya1NlY3Rpb24uYXBwZW5kKGNvbnRlbnRDb250YWluZXIpO1xuXG4gIHJldHVybiBjcmVhdGVIb3dEb2VzSXRXb3JrU2VjdGlvbjtcbn1cbiIsImZ1bmN0aW9uIGNyZWF0ZUZvcm0oZm9ybUpzb24pIHtcbiAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3N0YXJ0LXRoZS1wcm9jZXNzLWZvcm0nKTtcblxuICBjb25zdCBmb3JtRmllbGRNYWluQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvcm1GaWVsZE1haW5Db250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdmb3JtLWZpZWxkLW1haW4tY29udGFpbmVyJyk7XG5cbiAgY29uc3QgZmllbGRTZXRPbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWVsZHNldCcpO1xuICBmaWVsZFNldE9uZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2ZpZWxkLXNldC1vbmUnKTtcbiAgZmllbGRTZXRPbmUuY2xhc3NMaXN0LmFkZCgnZmllbGQtc2V0JywgJ2FjdGl2ZScpO1xuICBmaWVsZFNldE9uZS5kYXRhc2V0LmZpZWxkU2V0ID0gMTtcblxuICBjb25zdCBmaWVsZFNldFR3byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZWxkc2V0Jyk7XG4gIGZpZWxkU2V0VHdvLnNldEF0dHJpYnV0ZSgnaWQnLCAnZmllbGQtc2V0LXR3bycpO1xuICBmaWVsZFNldFR3by5jbGFzc0xpc3QuYWRkKCdmaWVsZC1zZXQnKTtcbiAgZmllbGRTZXRUd28uZGF0YXNldC5maWVsZFNldCA9IDI7XG5cbiAgY29uc3QgZmllbGRTZXRUaHJlZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZWxkc2V0Jyk7XG4gIGZpZWxkU2V0VGhyZWUuc2V0QXR0cmlidXRlKCdpZCcsICdmaWVsZC1zZXQtdGhyZWUnKTtcbiAgZmllbGRTZXRUaHJlZS5jbGFzc0xpc3QuYWRkKCdmaWVsZC1zZXQnKTtcbiAgZmllbGRTZXRUaHJlZS5kYXRhc2V0LmZpZWxkU2V0ID0gMztcblxuICBmb3JtSnNvbi5mb3JFYWNoKChmaWVsZCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBmaWVsZC5pZCk7XG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSBmaWVsZC5sYWJlbDtcblxuICAgIGxldCBpbnB1dDtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgZmllbGQuaWQpO1xuXG4gICAgICBjb25zdCBwbGFjZWhvbGRlck9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgcGxhY2Vob2xkZXJPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsICcnKTtcbiAgICAgIHBsYWNlaG9sZGVyT3B0aW9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgcGxhY2Vob2xkZXJPcHRpb24uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICd0cnVlJyk7XG4gICAgICBwbGFjZWhvbGRlck9wdGlvbi50ZXh0Q29udGVudCA9ICdtYWtlIGEgc2VsZWN0aW9uJztcbiAgICAgIGlucHV0LmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyT3B0aW9uKTtcblxuICAgICAgY29uc3Qgb3B0aW9ucyA9IGZpZWxkLm9wdGlvbnM7XG4gICAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgc2VsZWN0T3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBvcHRpb24pO1xuICAgICAgICBzZWxlY3RPcHRpb24udGV4dENvbnRlbnQgPSBvcHRpb247XG4gICAgICAgIGlucHV0LmFwcGVuZENoaWxkKHNlbGVjdE9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChmaWVsZC50eXBlKTtcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCBmaWVsZC5pZCk7XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIGZpZWxkLmlkKTtcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIGZpZWxkLnR5cGUpO1xuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdtaW4nLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIGZpZWxkLmlkKTtcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIGZpZWxkLnR5cGUpO1xuICAgIH1cblxuICAgIGlmIChmaWVsZC5wYXR0ZXJuKSB7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BhdHRlcm4nLCBmaWVsZC5wYXR0ZXJuKTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGQucGxhY2Vob2xkZXIpIHtcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBmaWVsZC5wbGFjZWhvbGRlcik7XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkLnJlcXVpcmVkKSB7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJ3RydWUnKTtcblxuICAgICAgY29uc3QgcmVxdWlyZWRBc3RlcmlzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIHJlcXVpcmVkQXN0ZXJpc2suY2xhc3NMaXN0LmFkZCgncmVxdWlyZWQtYXN0ZXJpc2snKTtcbiAgICAgIHJlcXVpcmVkQXN0ZXJpc2sudGV4dENvbnRlbnQgPSAn4py9JyArICcgJztcbiAgICAgIHJlcXVpcmVkQXN0ZXJpc2suc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ3JlcXVpcmVkIGZpZWxkIGFzdGVyaXNrJyk7XG4gICAgICBsYWJlbC5wcmVwZW5kKHJlcXVpcmVkQXN0ZXJpc2spO1xuICAgIH1cblxuXG4gICAgY29uc3QgZmllbGRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmaWVsZENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgYGZvcm0tZmllbGQtY29udGFpbmVyLSR7KytpbmRleH1gKTtcbiAgICBmaWVsZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb3JtLWZpZWxkLWNvbnRhaW5lcicpO1xuICAgIGlmIChmaWVsZC5maWVsZFNldCA9PT0gMSkge1xuICAgICAgZmllbGRDb250YWluZXIuZGF0YXNldC5maWVsZFNldCA9IDE7XG4gICAgfSBlbHNlIGlmIChmaWVsZC5maWVsZFNldCA9PT0gMikge1xuICAgICAgZmllbGRDb250YWluZXIuZGF0YXNldC5maWVsZFNldCA9IDI7XG4gICAgfSBlbHNlIGlmIChmaWVsZC5maWVsZFNldCA9PT0gMykge1xuICAgICAgZmllbGRDb250YWluZXIuZGF0YXNldC5maWVsZFNldCA9IDM7XG4gICAgfVxuICAgIGZpZWxkQ29udGFpbmVyLmFwcGVuZChsYWJlbCwgaW5wdXQpO1xuXG4gICAgaWYgKGZpZWxkLmZpZWxkU2V0ID09PSAxKSB7XG4gICAgICBmaWVsZFNldE9uZS5hcHBlbmRDaGlsZChmaWVsZENvbnRhaW5lcik7XG4gICAgfSBlbHNlIGlmIChmaWVsZC5maWVsZFNldCA9PT0gMikge1xuICAgICAgZmllbGRTZXRUd28uYXBwZW5kQ2hpbGQoZmllbGRDb250YWluZXIpO1xuICAgIH0gZWxzZSBpZiAoZmllbGQuZmllbGRTZXQgPT09IDMpIHtcbiAgICAgIGZpZWxkU2V0VGhyZWUuYXBwZW5kQ2hpbGQoZmllbGRDb250YWluZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgZm9ybUZpZWxkTWFpbkNvbnRhaW5lci5hcHBlbmQoXG4gICAgZmllbGRTZXRPbmUsXG4gICAgZmllbGRTZXRUd28sXG4gICAgZmllbGRTZXRUaHJlZVxuICApO1xuXG4gIGNvbnN0IGZvcm1SZXF1aXJlbWVudFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGZvcm1SZXF1aXJlbWVudFRleHQuc2V0QXR0cmlidXRlKCdpZCcsICdmb3JtLXJlcXVpcmVtZW50LXRleHQnKTtcblxuXG4gIGNvbnN0IGFzdGVyaXNrU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgYXN0ZXJpc2tTcGFuLmNsYXNzTGlzdC5hZGQoJ2FzdGVyaXNrLXNwYW4nKTtcbiAgYXN0ZXJpc2tTcGFuLnRleHRDb250ZW50ID0gJ+KcvSc7XG4gIGFzdGVyaXNrU3Bhbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAncmVxdWlyZWQgZmllbGQgYXN0ZXJpc2snKTtcblxuICBjb25zdCB0ZXh0Tm9kZU9uZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcg77ydIHJlcXVpcmVkJyk7XG5cbiAgZm9ybVJlcXVpcmVtZW50VGV4dC5hcHBlbmQoYXN0ZXJpc2tTcGFuLCB0ZXh0Tm9kZU9uZSk7XG5cbiAgZm9ybUZpZWxkTWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZChmb3JtUmVxdWlyZW1lbnRUZXh0KTtcblxuICBmb3JtLmFwcGVuZENoaWxkKGZvcm1GaWVsZE1haW5Db250YWluZXIpO1xuXG4gIHJldHVybiBmb3JtO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGb3JtRGlhbG9nKGZvcm1Kc29uKSB7XG4gIGNvbnN0IGRpYWxvZ0hlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICBkaWFsb2dIZWFkaW5nLnNldEF0dHJpYnV0ZSgnaWQnLCAnZGlhbG9nLWhlYWRpbmcnKTtcbiAgZGlhbG9nSGVhZGluZy50ZXh0Q29udGVudCA9ICdUaGUgUHJvY2Vzcyc7XG5cbiAgY29uc3Qgc3RlcE51bWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gIHN0ZXBOdW1iZXIuc2V0QXR0cmlidXRlKCdpZCcsICdzdGVwLW51bWJlcicpO1xuICBzdGVwTnVtYmVyLnRleHRDb250ZW50ID0gJ1N0ZXAgMSc7XG5cbiAgY29uc3QgZGlhbG9nQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgZGlhbG9nQ2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsICdkaWFsb2ctY2xvc2UtYnV0dG9uJyk7XG4gIGRpYWxvZ0Nsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgZGlhbG9nQ2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0Nsb3NlIERpYWxvZycpO1xuICBkaWFsb2dDbG9zZUJ1dHRvbi50ZXh0Q29udGVudCA9ICfinJUnO1xuXG4gIGNvbnN0IGRpYWxvZ1RvcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaWFsb2dUb3BDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdkaWFsb2ctdG9wLWNvbnRhaW5lcicpO1xuICBkaWFsb2dUb3BDb250YWluZXIuYXBwZW5kKHN0ZXBOdW1iZXIsIGRpYWxvZ0Nsb3NlQnV0dG9uKTtcblxuICBjb25zdCBwcmV2aW91c0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBwcmV2aW91c0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3ByZXZpb3VzLWJ1dHRvbicpO1xuICBwcmV2aW91c0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgcHJldmlvdXNCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICBwcmV2aW91c0J1dHRvbi5kYXRhc2V0LmVsZW1lbnQgPSAnYnV0dG9uJztcbiAgcHJldmlvdXNCdXR0b24udGV4dENvbnRlbnQgPSAncHJldmlvdXMnO1xuXG4gIGNvbnN0IG5leHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgbmV4dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25leHQtYnV0dG9uJyk7XG4gIG5leHRCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICBuZXh0QnV0dG9uLmRhdGFzZXQuZWxlbWVudCA9ICdidXR0b24nO1xuICBuZXh0QnV0dG9uLnRleHRDb250ZW50ID0gJ25leHQnO1xuXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsICdzdWJtaXQtYnV0dG9uJyk7XG4gIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Zvcm0nLCAnI3N0YXJ0LXRoZS1wcm9jZXNzLWZvcm0nKTtcbiAgc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICBzdWJtaXRCdXR0b24uZGF0YXNldC5lbGVtZW50ID0gJ2J1dHRvbic7XG4gIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICdzdWJtaXQnO1xuXG4gIGNvbnN0IGRpYWxvZ0J1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaWFsb2dCdXR0b25Db250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdkaWFsb2ctYnV0dG9uLWNvbnRhaW5lcicpO1xuICBkaWFsb2dCdXR0b25Db250YWluZXIuYXBwZW5kKHByZXZpb3VzQnV0dG9uLCBuZXh0QnV0dG9uLCBzdWJtaXRCdXR0b24pO1xuXG4gIGNvbnN0IGZvcm0gPSBjcmVhdGVGb3JtKGZvcm1Kc29uKTtcbiAgZm9ybS5hcHBlbmRDaGlsZChkaWFsb2dCdXR0b25Db250YWluZXIpO1xuXG4gIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpYWxvZycpO1xuICBkaWFsb2cuc2V0QXR0cmlidXRlKCdpZCcsICdzdGFydC10aGUtcHJvY2Vzcy1kaWFsb2cnKTtcbiAgZGlhbG9nLmFwcGVuZChkaWFsb2dIZWFkaW5nLCBkaWFsb2dUb3BDb250YWluZXIsIGZvcm0pO1xuXG4gIHJldHVybiBkaWFsb2c7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdGFydFRoZVByb2Nlc3NTZWN0aW9uKGZvcm1Kc29uKSB7XG4gIGNvbnN0IHN0YXJ0VGhlUHJvY2Vzc1NlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gIHN0YXJ0VGhlUHJvY2Vzc1NlY3Rpb24uc2V0QXR0cmlidXRlKCdpZCcsICdzdGFydC10aGUtcHJvY2VzcycpO1xuXG4gIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGVudENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjb250ZW50LWNvbnRhaW5lcicpO1xuXG4gIGNvbnN0IHN0YXJ0VGhlUHJvY2Vzc0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBzdGFydFRoZVByb2Nlc3NCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsICdzdGFydC10aGUtcHJvY2Vzcy1idXR0b24nKTtcbiAgc3RhcnRUaGVQcm9jZXNzQnV0dG9uLnRleHRDb250ZW50ID0gJ3N0YXJ0IHRoZSBwcm9jZXNzJztcblxuICBjb25zdCBmb3JtRGlhbG9nID0gY3JlYXRlRm9ybURpYWxvZyhmb3JtSnNvbik7XG5cbiAgY29udGVudENvbnRhaW5lci5hcHBlbmQoc3RhcnRUaGVQcm9jZXNzQnV0dG9uLCBmb3JtRGlhbG9nKTtcblxuICBzdGFydFRoZVByb2Nlc3NTZWN0aW9uLmFwcGVuZChjb250ZW50Q29udGFpbmVyKTtcblxuICByZXR1cm4gc3RhcnRUaGVQcm9jZXNzU2VjdGlvbjtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb290ZXIoY29tcGFueSwgbGluaykge1xuICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb290ZXInKTtcblxuICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRlbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29udGVudC1jb250YWluZXInKTtcblxuICBpZiAoY29tcGFueS5uYW1lKSB7XG4gICAgY29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG4gICAgY29uc3QgZm9vdGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBmb290ZXJUZXh0LnNldEF0dHJpYnV0ZSgnaWQnLCAnZm9vdGVyLXRleHQnKTtcbiAgICBmb290ZXJUZXh0LnRleHRDb250ZW50ID0gYMKpICR7Y3VycmVudFllYXJ9ICR7Y29tcGFueS5uYW1lfWA7XG5cbiAgICBjb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGZvb3RlclRleHQpO1xuICB9XG5cbiAgaWYgKGNvbXBhbnkubG9nbykge1xuICAgIGNvbnN0IGZvb3RlckxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBmb290ZXJMb2dvLnNldEF0dHJpYnV0ZSgnaWQnLCAnZm9vdGVyLWxvZ28nKTtcbiAgICBmb290ZXJMb2dvLnNldEF0dHJpYnV0ZSgnc3JjJywgY29tcGFueS5sb2dvKTtcbiAgICBmb290ZXJMb2dvLnNldEF0dHJpYnV0ZSgnYWx0JywgYCR7Y29tcGFueS5uYW1lfSBsb2dvYCk7XG5cbiAgICBpZiAoY29tcGFueS5saW5rKSB7XG4gICAgICBjb25zdCBmb290ZXJMb2dvTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGZvb3RlckxvZ29MaW5rLnNldEF0dHJpYnV0ZSgnaWQnLCAnZm9vdGVyLWxvZ28tbGluaycpO1xuICAgICAgZm9vdGVyTG9nb0xpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgY29tcGFueS5saW5rKTtcbiAgICAgIGZvb3RlckxvZ29MaW5rLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xuICAgICAgZm9vdGVyTG9nb0xpbmsuYXBwZW5kQ2hpbGQoZm9vdGVyTG9nbyk7XG4gICAgICBcbiAgICAgIGNvbnRlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoZm9vdGVyTG9nb0xpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGZvb3RlckxvZ28pO1xuICAgIH1cbiAgfVxuXG4gIGZvb3Rlci5hcHBlbmRDaGlsZChjb250ZW50Q29udGFpbmVyKTtcblxuICByZXR1cm4gZm9vdGVyO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwbGl0VGV4dEZyYWdtZW50KGVsZW1lbnQsIGlkKSB7XG4gIGNvbnN0IHNwbGl0VGV4dEZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICBjb25zdCB0ZXh0ID0gZWxlbWVudC50ZXh0Q29udGVudDtcblxuICB0ZXh0LnNwbGl0KCcnKS5mb3JFYWNoKChsZXR0ZXIsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgbGV0dGVyU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBsZXR0ZXJTcGFuLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHtpZH0tJHtpbmRleCArIDF9YCk7XG4gICAgbGV0dGVyU3Bhbi5jbGFzc0xpc3QuYWRkKCdsZXR0ZXInKTtcblxuICAgIC8vIFVzZSBhIG5vbi1icmVha2luZyBzcGFjZSBmb3Igc3BhY2VzIHRvIGVuc3VyZSB0aGV5IGFyZSBwcmVzZXJ2ZWRcbiAgICBsZXR0ZXJTcGFuLnRleHRDb250ZW50ID0gbGV0dGVyID09PSAnICcgPyAnXFx1MDBBMCcgOiBsZXR0ZXI7XG5cbiAgICBzcGxpdFRleHRGcmFnbWVudC5hcHBlbmRDaGlsZChsZXR0ZXJTcGFuKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNwbGl0VGV4dEZyYWdtZW50O1xufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwidGVzdCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJjcmVhdGVJbWFnZSIsImlkIiwiY2xhc3NOYW1lcyIsImFsdCIsImFyaWFMYWJlbCIsInNpemVBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImltZyIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJmb3JFYWNoIiwiY2xhc3NOYW1lIiwiX3NpemVBcnJheSIsImhlaWdodCIsIndpZHRoIiwic2V0QXR0cmlidXRlcyIsImVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwia2V5IiwiY2hlY2tUYXJnZXRFbGVtZW50RXhpc3RlbmNlIiwic2VsZWN0b3IiLCJ0YXJnZXRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnNvbGUiLCJlcnJvciIsImNvbmNhdCIsIm5hdlN0YXRlIiwiYW5pbWF0aW5nIiwidG9nZ2xlTmF2VmlzaWJpbGl0eSIsImlzTmF2VG9nZ2xlQWN0aXZlIiwibmF2IiwicmVtb3ZlIiwiaGFuZGxlTmF2VG9nZ2xlQnV0dG9uIiwibmF2VG9nZ2xlQnV0dG9uIiwiY29udGFpbnMiLCJhZGRFdmVudExpc3RlbmVyIiwiY3JlYXRlQ2Fyb3VzZWwiLCJpbWFnZXNBcnJheSIsImNhcm91c2VsIiwiY2Fyb3VzZWxDb250YWluZXIiLCJyaWdodEFycm93IiwidHlwZSIsImNhcm91c2VsU2xpZGVzIiwiY2Fyb3VzZWxTbGlkZUNvbnRhaW5lciIsImltYWdlIiwiaW5kZXgiLCJpbWFnZUZpZ2NhcHRpb25FbGVtZW50IiwidGV4dENvbnRlbnQiLCJpbWFnZUVsZW1lbnQiLCJpbWFnZUluZGV4U3BhbkVsZW1lbnQiLCJpbWFnZUZpZ3VyZUVsZW1lbnQiLCJhcHBlbmQiLCJjYXJvdXNlbFNsaWRlIiwiY3JlYXRlQ2Fyb3VzZWxTbGlkZUNvbnRhaW5lciIsImxlZnRBcnJvdyIsImNyZWF0ZUNhcm91c2VsQ29udGFpbmVyIiwiY2Fyb3VzZWxOYXZpZ2F0aW9uQ29udGFpbmVyIiwiY2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9uQ29udGFpbmVyIiwiY2Fyb3VzZWxOYXZpZ2F0aW9uQnV0dG9uIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVDYXJvdXNlbE5hdmlnYXRpb25Db250YWluZXIiLCJzbGlkZUluZGV4IiwiaXNTbGlkZVRyYW5zaXRpb25pbmciLCJwbHVzU2xpZGVzIiwic2hvd1NsaWRlcyIsImFjdGl2ZUNhcm91c2VsU2xpZGUiLCJkZWFjdGl2YXRpbmdDYXJvdXNlbFNsaWRlIiwicXVlcnlTZWxlY3RvckFsbCIsImNhcm91c2VsU2xpZGVzTGVuZ3RoIiwicmVzZXRTbGlkZUluZGV4Iiwic2V0RGVhY3RpdmF0ZWRTbGlkZVRvRGlzcGxheU5vbmVSZWYiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RGVhY3RpdmF0ZWRTbGlkZVRvRGlzcGxheU5vbmUiLCJjYXJvdXNlbE5hdmlnYXRpb25CdXR0b25zIiwic2V0TmV3QWN0aXZlU2xpZGUiLCJ1cGRhdGVSb290QW5pbWF0aW9uUHJvcGVydHkiLCJyb290RWxlbWVudCIsImRpcmVjdGlvbiIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJjb250ZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJoZWFkZXIiLCJjb250ZW50Q29udGFpbmVyIiwibG9nbyIsImN5Y2xvbmVDIiwibG9nb0xpbmsiLCJsb2dvVGV4dCIsImhlYWRlckxvZ29Db250YWluZXIiLCJoZWFkaW5nIiwiaGFtYnVyZ2VyIiwiYXJpYUNvbnRyb2xzSUQiLCJuYXZUb2dnbGVCYXJzIiwiY3JlYXRlSGFtYnVyZ2VyIiwianNvbkFycmF5IiwidWwiLCJsaW5rIiwibGkiLCJhIiwiaHJlZiIsImNyZWF0ZU5hdiIsIm5hdkxpc3REYXRhIiwicHJlcGVuZCIsImNyZWF0ZUhlYWRlciIsImNhbGxUb0FjdGlvblNlY3Rpb24iLCJjYWxsVG9BY3Rpb25MZWZ0Iiwic3BlY2lhbFNwYW4iLCJoZWFkaW5nRW1vamlTcGFuIiwibGVmdFRleHROb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJhaVRleHROb2RlIiwicmlnaHRUZXh0Tm9kZSIsInN1YmhlYWRpbmciLCJwYXJhZ3JhcGhPbmUiLCJwYXJhZ3JhcGhUd28iLCJjYWxsVG9BY3Rpb25BcnRpY2xlIiwiY3JlYXRlQ2FsbFRvQWN0aW9uTGVmdCIsImNhbGxUb0FjdGlvblJpZ2h0IiwiY2FsbFRvQWN0aW9uSW1hZ2UiLCJjcmVhdGVDYWxsVG9BY3Rpb25SaWdodCIsImNyZWF0ZUNhbGxUb0FjdGlvblNlY3Rpb24iLCJjb25uZWN0aW9uc0pzb24iLCJjb25uZWN0aW9uc1NlY3Rpb24iLCJsb2dvQ29udGFpbmVyIiwiY29ubmVjdGlvbiIsIm5hbWUiLCJ0YXJnZXQiLCJyZWwiLCJjcmVhdGVDb25uZWN0aW9uc1NlY3Rpb24iLCJjb25uZWN0aW9ucyIsImNhcm91c2VsSW1hZ2VzIiwid2hvQXJlV2VTZWN0aW9uIiwid2hvQXJlV2VBcnRpY2xlIiwiY3JlYXRlV2hvQXJlV2VTZWN0aW9uIiwiY3VycmVudFNsaWRlSW5kZXgiLCJoYW5kbGVDYXJvdXNlbEFycm93Q2xpY2siLCJkb2N1bWVudEVsZW1lbnQiLCJidXR0b24iLCJjdXJyZW50U2xpZGUiLCJoYW5kbGVDYXJvdXNlbE5hdmlnYXRpb25CdXR0b25DbGljayIsImluc3RydWN0aW9uc0pzb24iLCJjcmVhdGVIb3dEb2VzSXRXb3JrU2VjdGlvbiIsImhvd0RvZXNJdFdvcmtUZXh0Q29udGVudCIsImhvd0RvZXNJdFdvcmtIZWFkaW5nIiwiaW5zdHJ1Y3Rpb25zQ29udGFpbmVyIiwiaW5zdHJ1Y3Rpb24iLCJpbnN0cnVjdGlvbkFydGljbGUiLCJzdGVwTnVtYmVyIiwiaW5zdHJ1Y3Rpb25UaXRsZSIsInRpdGxlIiwiaW5zdHJ1Y3Rpb25UaXRsZUNvbnRhaW5lciIsInBhcmFnYXBoIiwicGFyYWdyYXBoIiwiaW5zdHJ1Y3Rpb25zIiwiZm9ybUpzb24iLCJzdGFydFRoZVByb2Nlc3NTZWN0aW9uIiwic3RhcnRUaGVQcm9jZXNzQnV0dG9uIiwiZm9ybURpYWxvZyIsImRpYWxvZ0hlYWRpbmciLCJkaWFsb2dDbG9zZUJ1dHRvbiIsImRpYWxvZ1RvcENvbnRhaW5lciIsInByZXZpb3VzQnV0dG9uIiwiZGF0YXNldCIsIm5leHRCdXR0b24iLCJzdWJtaXRCdXR0b24iLCJkaWFsb2dCdXR0b25Db250YWluZXIiLCJmb3JtIiwiZm9ybUZpZWxkTWFpbkNvbnRhaW5lciIsImZpZWxkU2V0T25lIiwiZmllbGRTZXQiLCJmaWVsZFNldFR3byIsImZpZWxkU2V0VGhyZWUiLCJmaWVsZCIsImlucHV0IiwibGFiZWwiLCJwbGFjZWhvbGRlck9wdGlvbiIsIm9wdGlvbnMiLCJvcHRpb24iLCJzZWxlY3RPcHRpb24iLCJwYXR0ZXJuIiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsInJlcXVpcmVkQXN0ZXJpc2siLCJmaWVsZENvbnRhaW5lciIsImZvcm1SZXF1aXJlbWVudFRleHQiLCJhc3Rlcmlza1NwYW4iLCJ0ZXh0Tm9kZU9uZSIsImNyZWF0ZUZvcm0iLCJkaWFsb2ciLCJjcmVhdGVGb3JtRGlhbG9nIiwiY3JlYXRlU3RhcnRUaGVQcm9jZXNzU2VjdGlvbiIsImNvbXBhbnkiLCJmb290ZXIiLCJjdXJyZW50WWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImZvb3RlclRleHQiLCJmb290ZXJMb2dvIiwiZm9vdGVyTG9nb0xpbmsiLCJjcmVhdGVGb290ZXIiLCJjb21wYW55SW5mbyIsIm5hdkxpbmtzIiwicmVtb3ZlSGlnaGxpZ2h0Q2xhc3MiLCJhbmNob3IiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldElkIiwiZ2V0QXR0cmlidXRlIiwiaGVhZGVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwidGFyZ2V0UG9zaXRpb24iLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJzY3JvbGxZIiwic2Nyb2xsVG8iLCJiZWhhdmlvciIsInN0YXJ0VGhlUHJvY2Vzc0RpYWxvZyIsImNsb3NlRGlhbG9nQnV0dG9uIiwiZm9ybVN0YXRlIiwiY3VycmVudEZpZWxkU2V0IiwiaGFuZGxlRGlhbG9nQnV0dG9ucyIsInByZXZpb3VzQnV0dG9uQ2xpY2tlZCIsImRpc2FibGVkIiwiY2xvc2VNb2RhbCIsImNsb3NlIiwidG9nZ2xlRGlhbG9nVGV4dEFuaW1hdGlvbkNsYXNzIiwiaW5pdGlhdGVNb2RhbENsb3NlIiwicmVzZXQiLCJkaWFsb2dTcGxpdFRleHQiLCJsZXR0ZXIiLCJzZXRUaW1lb3V0Iiwic3BsaXRUZXh0RnJhZ21lbnQiLCJoYW5kbGVTZWxlY3RQbGFjZWhvbGRlciIsInNlbGVjdCIsInNlbGVjdGVkT3B0aW9uIiwic2VsZWN0ZWRJbmRleCIsInZhbHVlIiwiaGFuZGxlTmF2UG9zdENsaWNrIiwiY2xpY2siLCJzaG93TW9kYWwiLCJuYW1lRmllbGQiLCJmb2N1cyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJzcGxpdCIsImxldHRlclNwYW4iLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwicGFyYWdyYXBoT2JzZXJ2ZXIiLCJQYXJhZ3JhcGgiLCJzdGFydFByb2Nlc3NCdXR0b25PYnNlcnZlciIsInN0YXJ0UHJvY2Vzc0J1dHRvbiIsImhhbmRsZU5hdkxpbmtCZWhhdmlvciIsInZpZXdwb3J0V2lkdGgiLCJvZmZzZXRXaWR0aCIsImFyaWFFeHBhbmRlZCIsIm5hdkxpbmsiXSwic291cmNlUm9vdCI6IiJ9