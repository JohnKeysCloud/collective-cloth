import sgMail from"@sendgrid/mail";import{createEmailMarkup}from"../templates/create-email-html";sgMail.setApiKey(process.env.SENDGRID_API_KEY);export default async(e,s)=>{if("POST"===e.method)try{const r=async(e,s,r,t)=>{try{const a={to:e,from:s,subject:r,html:t};await sgMail.send(a),console.log("Email Sent")}catch(e){throw console.error("Error sending email:",e),e}},t=createEmailMarkup(e.body);await r("test@example.com","your-email@example.com","Sending with SendGrid is Fun",t),s.status(200).json({status:"success",message:"Data received and processed"})}catch(e){console.error("Error processing request:",e),s.status(500).json({status:"error",message:"Internal Server Error"})}else s.setHeader("Allow",["POST"]),s.status(405).end("Method Not Allowed")};