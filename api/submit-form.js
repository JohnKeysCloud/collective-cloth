import sgMail from"@sendgrid/mail";import{createEmailMarkup}from"../templates/create-email-html";sgMail.setApiKey(process.env.SENDGRID_API_KEY);export default async(e,s)=>{if("POST"===e.method)try{const t=async(e,s,t,r)=>{try{const o={to:e,from:s,subject:t,html:r};await sgMail.send(o),console.log("Email Sent")}catch(e){throw console.error("Error sending email:",e),e}},r=createEmailMarkup(e.body);await t("johncloud@cyclonestud.io","admin@collectivecloth.com","New Customer Request Zaddy ðŸ¤ª",r),s.status(200).json({status:"success",message:"Data received and processed"})}catch(e){console.error("Error processing request:",e),s.status(500).json({status:"error",message:"Internal Server Error"})}else s.setHeader("Allow",["POST"]),s.status(405).end("Method Not Allowed")};